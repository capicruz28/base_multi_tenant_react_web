{"openapi":"3.1.0","info":{"title":"Service API","version":"0.1.0"},"paths":{"/api/v1/auth/login/":{"post":{"tags":["Autenticación"],"summary":"Autenticar usuario y obtener token","description":"Verifica credenciales (nombre de usuario/email y contraseña) **dentro del contexto de un cliente**.\n    El cliente se identifica mediante `cliente_id` o `subdominio` en el cuerpo de la solicitud.\n    \n    Genera un **Access Token** y un **Refresh Token**.\n    \n    **✅ MULTI-TENANT: Estrategia de tokens según cliente:**\n    - **Web (X-Client-Type: web):** Access Token en JSON, Refresh Token en HttpOnly cookie\n    - **Móvil (X-Client-Type: mobile):** Ambos tokens en JSON (sin cookie)\n    \n    Retorna los datos básicos del usuario, incluyendo sus roles.\n\n    **Respuestas:**\n    - 200: Autenticación exitosa y tokens generados.\n    - 400: No se proporcionó identificador de cliente (cliente_id o subdominio).\n    - 401: Credenciales inválidas o cliente inactivo.\n    - 404: Cliente no encontrado.\n    - 429: Demasiadas solicitudes (rate limit excedido).\n    - 500: Error interno del servidor.","operationId":"login_api_v1_auth_login__post","requestBody":{"content":{"application/x-www-form-urlencoded":{"schema":{"$ref":"#/components/schemas/Body_login_api_v1_auth_login__post"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Token"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/auth/me/":{"get":{"tags":["Autenticación"],"summary":"Obtener usuario actual","description":"Recupera los datos del usuario identificado por el Access Token.\n✅ CORRECCIÓN CRÍTICA: Usar niveles del TOKEN, no recalcularlos","operationId":"get_me_api_v1_auth_me__get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserDataWithRoles"}}}}},"security":[{"OAuth2PasswordBearer":[]}]}},"/api/v1/auth/refresh/":{"post":{"tags":["Autenticación"],"summary":"Refresh Access Token","operationId":"refresh_access_token_api_v1_auth_refresh__post","parameters":[{"name":"refresh_token","in":"cookie","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Refresh Token"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/RefreshTokenBody","default":{}}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Token"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/auth/logout/":{"post":{"tags":["Autenticación"],"summary":"Cerrar sesión","description":"Cierra la sesión del usuario revocando el **Refresh Token** en BD.\n    \n    **✅ NUEVO - Estrategia según cliente:**\n    - **Web (X-Client-Type: web):** Elimina cookie y revoca token en BD\n    - **Móvil (X-Client-Type: mobile):** Revoca token en BD\n\n    **Respuestas:**\n    - 200: Sesión cerrada exitosamente.","operationId":"logout_api_v1_auth_logout__post","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}},"security":[{"OAuth2PasswordBearer":[]}]}},"/api/v1/auth/sessions/":{"get":{"tags":["Autenticación"],"summary":"Listar sesiones activas","description":"Retorna una lista de todas las sesiones activas del usuario, usando el Access Token para identificar al usuario. \n    Ideal para mostrar al usuario dónde ha iniciado sesión (auditoría).\n\n    **Permisos requeridos:**\n    - Autenticación (Access Token válido).\n\n    **Respuestas:**\n    - 200: Lista de sesiones activas.\n    - 401: Token inválido o expirado.","operationId":"get_active_sessions_endpoint_api_v1_auth_sessions__get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"items":{"type":"object"},"type":"array","title":"Response Get Active Sessions Endpoint Api V1 Auth Sessions  Get"}}}}},"security":[{"OAuth2PasswordBearer":[]}]}},"/api/v1/auth/logout_all/":{"post":{"tags":["Autenticación"],"summary":"Cerrar todas las sesiones (Logout global)","description":"Revoca **todos** los Refresh Tokens activos del usuario en la base de datos, \n    forzando el cierre de sesión en todos los dispositivos. \n    Requiere un Access Token válido.\n\n    **Nota:** Después de esta llamada, el Access Token actual seguirá siendo válido hasta que expire, \n    pero no podrá ser renovado. Se recomienda redirigir al usuario al login inmediatamente.\n\n    **Respuestas:**\n    - 200: Todas las sesiones (tokens) han sido revocadas.\n    - 401: Token inválido o expirado.","operationId":"logout_all_sessions_api_v1_auth_logout_all__post","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}},"security":[{"OAuth2PasswordBearer":[]}]}},"/api/v1/auth/sessions/admin/":{"get":{"tags":["Autenticación"],"summary":"[ADMIN] Listar TODAS las sesiones activas del sistema","description":"Retorna una lista de todas las sesiones activas (refresh tokens) en el sistema.\n    Incluye detalles como nombre de usuario, tipo de cliente, IP, y fechas de creación/expiración.\n\n    **Permisos requeridos:**\n    - Rol 'Administrador'\n\n    **Respuestas:**\n    - 200: Lista de sesiones activas del sistema.\n    - 403: Permiso denegado.\n    - 500: Error interno del servidor.","operationId":"admin_list_all_active_sessions_api_v1_auth_sessions_admin__get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"items":{"type":"object"},"type":"array","title":"Response Admin List All Active Sessions Api V1 Auth Sessions Admin  Get"}}}}},"security":[{"OAuth2PasswordBearer":[]}]}},"/api/v1/auth/sessions/{token_id}/revoke_admin/":{"post":{"tags":["Autenticación"],"summary":"[ADMIN] Revocar sesión activa por ID","description":"Permite a un administrador revocar (cerrar) una sesión activa específica\n    utilizando su `token_id` (ID primario en la tabla `refresh_tokens`).\n\n    **Permisos requeridos:**\n    - Rol 'Administrador'\n\n    **Parámetros de ruta:**\n    - token_id: ID numérico del refresh token a revocar.\n\n    **Respuestas:**\n    - 200: Sesión revocada exitosamente.\n    - 404: Token ID no encontrado o ya revocado.\n    - 403: Permiso denegado.\n    - 500: Error interno del servidor.","operationId":"admin_revoke_session_by_id_api_v1_auth_sessions__token_id__revoke_admin__post","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"token_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","description":"ID del token de sesión a revocar (PK en refresh_tokens)","title":"Token Id"},"description":"ID del token de sesión a revocar (PK en refresh_tokens)"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/auth/sso/azure/":{"post":{"tags":["Autenticación"],"summary":"Autenticar usuario mediante Azure AD","description":"Inicia el flujo de autenticación con Azure Active Directory.\n    **En esta primera fase, el endpoint recibe el id_token de Azure y autentica al usuario.**\n    \n    **Flujo:**\n    1. El frontend obtiene el id_token desde Azure AD.\n    2. El frontend envía el id_token a este endpoint junto con el contexto del cliente.\n    3. El backend valida el id_token y autentica al usuario.\n    \n    **Parámetros en el cuerpo:**\n    - `id_token`: El JWT token de Azure AD.\n    - `cliente_id` o `subdominio`: Para identificar el cliente.\n    \n    **Respuestas:**\n    - 200: Autenticación SSO exitosa.\n    - 400: Parámetros inválidos.\n    - 401: Token de Azure inválido o cliente no autorizado.\n    - 500: Error interno.","operationId":"sso_azure_login_api_v1_auth_sso_azure__post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/Body_sso_azure_login_api_v1_auth_sso_azure__post"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Token"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/auth/sso/google/":{"post":{"tags":["Autenticación"],"summary":"Autenticar usuario mediante Google Workspace","description":"Inicia el flujo de autenticación con Google Workspace.\n    **En esta primera fase, el endpoint recibe el id_token de Google y autentica al usuario.**\n    \n    **Flujo:**\n    1. El frontend obtiene el id_token desde Google.\n    2. El frontend envía el id_token a este endpoint junto con el contexto del cliente.\n    3. El backend valida el id_token y autentica al usuario.\n    \n    **Parámetros en el cuerpo:**\n    - `id_token`: El JWT token de Google.\n    - `cliente_id` o `subdominio`: Para identificar el cliente.\n    \n    **Respuestas:**\n    - 200: Autenticación SSO exitosa.\n    - 400: Parámetros inválidos.\n    - 401: Token de Google inválido o cliente no autorizado.\n    - 500: Error interno.","operationId":"sso_google_login_api_v1_auth_sso_google__post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/Body_sso_google_login_api_v1_auth_sso_google__post"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Token"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/auth-config/clientes/{cliente_id}":{"get":{"tags":["Configuración de Autenticación"],"summary":"Obtener configuración de autenticación","description":"Obtiene la configuración de autenticación para un cliente específico.\n    Si no existe, crea una configuración por defecto.\n    \n    **Permisos requeridos:**\n    - Rol 'SUPER_ADMIN'\n    \n    **Parámetros de ruta:**\n    - cliente_id: ID del cliente\n    \n    **Respuestas:**\n    - 200: Configuración de autenticación recuperada/creada\n    - 404: Cliente no encontrado\n    - 500: Error interno del servidor","operationId":"obtener_config_auth_cliente_api_v1_auth_config_clientes__cliente_id__get","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"cliente_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","description":"ID del cliente","title":"Cliente Id"},"description":"ID del cliente"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/AuthConfigRead"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"put":{"tags":["Configuración de Autenticación"],"summary":"Actualizar configuración de autenticación","description":"Actualiza la configuración de autenticación para un cliente específico.\n    \n    **Permisos requeridos:**\n    - Rol 'SUPER_ADMIN'\n    \n    **Parámetros de ruta:**\n    - cliente_id: ID del cliente\n    \n    **Respuestas:**\n    - 200: Configuración actualizada exitosamente\n    - 404: Cliente no encontrado\n    - 422: Error de validación en los datos\n    - 500: Error interno del servidor","operationId":"actualizar_config_auth_cliente_api_v1_auth_config_clientes__cliente_id__put","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"cliente_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","description":"ID del cliente","title":"Cliente Id"},"description":"ID del cliente"}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/AuthConfigUpdate"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/AuthConfigRead"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/auth-config/global":{"get":{"tags":["Configuración de Autenticación"],"summary":"Obtener configuración global por defecto","description":"Obtiene la configuración de autenticación por defecto del sistema.\n    \n    **Permisos requeridos:**\n    - Rol 'SUPER_ADMIN'\n    \n    **Respuestas:**\n    - 200: Configuración global por defecto\n    - 500: Error interno del servidor","operationId":"obtener_config_auth_global_api_v1_auth_config_global_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/AuthConfigRead"}}}}},"security":[{"OAuth2PasswordBearer":[]}]}},"/api/v1/sso/azure/config/":{"post":{"tags":["SSO - Single Sign On"],"summary":"Configurar Azure AD","description":"Configura un proveedor de identidad Azure AD para un cliente.\n    \n    **Permisos requeridos:**\n    - Rol 'ADMIN' o 'SUPER_ADMIN'\n    \n    **Respuestas:**\n    - 201: Configuración creada exitosamente\n    - 422: Error de validación en los datos\n    - 500: Error interno del servidor","operationId":"configurar_azure_ad_api_v1_sso_azure_config__post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/AzureADConfig"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"OAuth2PasswordBearer":[]}]}},"/api/v1/sso/google/config/":{"post":{"tags":["SSO - Single Sign On"],"summary":"Configurar Google Workspace","description":"Configura un proveedor de identidad Google Workspace para un cliente.\n    \n    **Permisos requeridos:**\n    - Rol 'ADMIN' o 'SUPER_ADMIN'\n    \n    **Respuestas:**\n    - 201: Configuración creada exitosamente\n    - 422: Error de validación en los datos\n    - 500: Error interno del servidor","operationId":"configurar_google_api_v1_sso_google_config__post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/GoogleConfig"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"OAuth2PasswordBearer":[]}]}},"/api/v1/sso/providers/":{"get":{"tags":["SSO - Single Sign On"],"summary":"Listar proveedores SSO","description":"Lista todos los proveedores de identidad configurados para el cliente actual.\n    \n    **Permisos requeridos:**\n    - Rol 'ADMIN' o 'SUPER_ADMIN'\n    \n    **Respuestas:**\n    - 200: Lista de proveedores\n    - 500: Error interno del servidor","operationId":"listar_proveedores_sso_api_v1_sso_providers__get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"items":{"$ref":"#/components/schemas/SSOProviderRead"},"type":"array","title":"Response Listar Proveedores Sso Api V1 Sso Providers  Get"}}}}},"security":[{"OAuth2PasswordBearer":[]}]}},"/api/v1/sso/{provider_id}/":{"delete":{"tags":["SSO - Single Sign On"],"summary":"Eliminar proveedor SSO","description":"Elimina (desactiva) un proveedor de identidad configurado.\n    \n    **Permisos requeridos:**\n    - Rol 'ADMIN' o 'SUPER_ADMIN'\n    \n    **Parámetros de ruta:**\n    - provider_id: ID del proveedor a eliminar\n    \n    **Respuestas:**\n    - 200: Proveedor eliminado exitosamente\n    - 404: Proveedor no encontrado\n    - 500: Error interno del servidor","operationId":"eliminar_proveedor_sso_api_v1_sso__provider_id___delete","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"provider_id","in":"path","required":true,"schema":{"type":"integer","title":"Provider Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/clientes/":{"post":{"tags":["Clientes (Super Admin)"],"summary":"Crear un nuevo cliente","description":"Crea un nuevo cliente en el sistema. **Solo accesible por SUPER_ADMIN**.\n    \n    **Permisos requeridos:**\n    - Nivel de acceso 5 (Super Administrador)\n    \n    **Validaciones:**\n    - subdominio único y válido\n    - código_cliente único\n    - Campos obligatorios: razon_social, subdominio, codigo_cliente\n    \n    **Respuestas:**\n    - 201: Cliente creado exitosamente\n    - 403: Acceso denegado - se requiere nivel de super administrador\n    - 409: Conflicto - subdominio o código ya existen\n    - 422: Error de validación en los datos de entrada\n    - 500: Error interno del servidor","operationId":"crear_cliente_api_v1_clientes__post","security":[{"OAuth2PasswordBearer":[]}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ClienteCreate"}}}},"responses":{"201":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ClienteResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"get":{"tags":["Clientes (Super Admin)"],"summary":"Listar todos los clientes","description":"Obtiene una lista paginada de todos los clientes. **Solo accesible por SUPER_ADMIN**.\n    \n    **Permisos requeridos:**\n    - Nivel de acceso 5 (Super Administrador)\n    \n    **Parámetros de query:**\n    - skip: Número de registros a saltar (paginación)\n    - limit: Límite de registros a retornar (paginación)\n    - solo_activos: Filtrar solo clientes activos\n    - buscar: Texto para buscar en razón social, nombre comercial, código o subdominio\n    \n    **Respuestas:**\n    - 200: Lista de clientes recuperada exitosamente con metadatos de paginación\n    - 403: Acceso denegado - se requiere nivel de super administrador\n    - 500: Error interno del servidor","operationId":"listar_clientes_api_v1_clientes__get","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"skip","in":"query","required":false,"schema":{"type":"integer","minimum":0,"description":"Número de registros a saltar","default":0,"title":"Skip"},"description":"Número de registros a saltar"},{"name":"limit","in":"query","required":false,"schema":{"type":"integer","maximum":1000,"minimum":1,"description":"Límite de registros a retornar","default":100,"title":"Limit"},"description":"Límite de registros a retornar"},{"name":"solo_activos","in":"query","required":false,"schema":{"type":"boolean","description":"Filtrar solo clientes activos","default":true,"title":"Solo Activos"},"description":"Filtrar solo clientes activos"},{"name":"buscar","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Texto para buscar en razón social, nombre comercial, código o subdominio","title":"Buscar"},"description":"Texto para buscar en razón social, nombre comercial, código o subdominio"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/PaginatedClienteResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/clientes/{cliente_id}/":{"get":{"tags":["Clientes (Super Admin)"],"summary":"Obtener detalle de un cliente","description":"Obtiene los detalles completos de un cliente específico.\n    \n    **Permisos requeridos:**\n    - Nivel de acceso 5 (Super Administrador)\n    \n    **Parámetros de ruta:**\n    - cliente_id: ID del cliente a consultar\n    \n    **Respuestas:**\n    - 200: Cliente encontrado y devuelto\n    - 403: Acceso denegado - se requiere nivel de super administrador\n    - 404: Cliente no encontrado\n    - 500: Error interno del servidor","operationId":"obtener_cliente_api_v1_clientes__cliente_id___get","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"cliente_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","description":"ID del cliente","title":"Cliente Id"},"description":"ID del cliente"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ClienteRead"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"put":{"tags":["Clientes (Super Admin)"],"summary":"Actualizar un cliente","description":"Actualiza la información de un cliente existente.\n    \n    **Permisos requeridos:**\n    - Nivel de acceso 5 (Super Administrador)\n    \n    **Parámetros de ruta:**\n    - cliente_id: ID del cliente a actualizar\n    \n    **Respuestas:**\n    - 200: Cliente actualizado exitosamente\n    - 403: Acceso denegado - se requiere nivel de super administrador\n    - 404: Cliente no encontrado\n    - 409: Conflicto - subdominio o código ya existen\n    - 422: Error de validación en los datos\n    - 500: Error interno del servidor","operationId":"actualizar_cliente_api_v1_clientes__cliente_id___put","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"cliente_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","description":"ID del cliente","title":"Cliente Id"},"description":"ID del cliente"}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ClienteUpdate"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ClienteResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"delete":{"tags":["Clientes (Super Admin)"],"summary":"Eliminar un cliente","description":"Elimina un cliente del sistema (eliminación lógica - marca como inactivo).\n    \n    **Permisos requeridos:**\n    - Nivel de acceso 5 (Super Administrador)\n    \n    **Parámetros de ruta:**\n    - cliente_id: ID del cliente a eliminar\n    \n    **Nota:** No se puede eliminar el cliente SYSTEM.\n    \n    **Respuestas:**\n    - 200: Cliente eliminado exitosamente\n    - 403: Acceso denegado - se requiere nivel de super administrador\n    - 404: Cliente no encontrado\n    - 400: No se puede eliminar el cliente SYSTEM\n    - 500: Error interno del servidor","operationId":"eliminar_cliente_api_v1_clientes__cliente_id___delete","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"cliente_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","description":"ID del cliente","title":"Cliente Id"},"description":"ID del cliente"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ClienteDeleteResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/clientes/{cliente_id}/suspender/":{"put":{"tags":["Clientes (Super Admin)"],"summary":"Suspender un cliente","description":"Suspende un cliente cambiando su estado de suscripción a 'suspendido'.\n    \n    **Permisos requeridos:**\n    - Nivel de acceso 5 (Super Administrador)\n    \n    **Parámetros de ruta:**\n    - cliente_id: ID del cliente a suspender\n    \n    **Respuestas:**\n    - 200: Cliente suspendido exitosamente\n    - 403: Acceso denegado - se requiere nivel de super administrador\n    - 404: Cliente no encontrado\n    - 400: Cliente ya está suspendido\n    - 500: Error interno del servidor","operationId":"suspender_cliente_api_v1_clientes__cliente_id__suspender__put","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"cliente_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","description":"ID del cliente","title":"Cliente Id"},"description":"ID del cliente"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ClienteResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/clientes/{cliente_id}/activar/":{"put":{"tags":["Clientes (Super Admin)"],"summary":"Activar un cliente","description":"Reactiva un cliente cambiando su estado de suscripción a 'activo'.\n    \n    **Permisos requeridos:**\n    - Nivel de acceso 5 (Super Administrador)\n    \n    **Parámetros de ruta:**\n    - cliente_id: ID del cliente a activar\n    \n    **Respuestas:**\n    - 200: Cliente activado exitosamente\n    - 403: Acceso denegado - se requiere nivel de super administrador\n    - 404: Cliente no encontrado\n    - 400: Cliente ya está activo\n    - 500: Error interno del servidor","operationId":"activar_cliente_api_v1_clientes__cliente_id__activar__put","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"cliente_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","description":"ID del cliente","title":"Cliente Id"},"description":"ID del cliente"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ClienteResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/clientes/{cliente_id}/estadisticas/":{"get":{"tags":["Clientes (Super Admin)"],"summary":"Obtener estadísticas de un cliente","description":"Obtiene estadísticas y métricas de uso de un cliente específico.\n    \n    **Permisos requeridos:**\n    - Nivel de acceso 5 (Super Administrador)\n    \n    **Parámetros de ruta:**\n    - cliente_id: ID del cliente\n    \n    **Respuestas:**\n    - 200: Estadísticas del cliente\n    - 403: Acceso denegado - se requiere nivel de super administrador\n    - 404: Cliente no encontrado\n    - 500: Error interno del servidor","operationId":"obtener_estadisticas_cliente_api_v1_clientes__cliente_id__estadisticas__get","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"cliente_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","description":"ID del cliente","title":"Cliente Id"},"description":"ID del cliente"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ClienteStatsResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/clientes/debug/user-info":{"get":{"tags":["Clientes (Super Admin)"],"summary":"Información de diagnóstico del usuario actual","description":"Endpoint temporal para diagnóstico de niveles de acceso","operationId":"debug_user_info_api_v1_clientes_debug_user_info_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}},"security":[{"OAuth2PasswordBearer":[]}]}},"/api/v1/clientes/debug/access-levels":{"get":{"tags":["Clientes (Super Admin)"],"summary":"Diagnóstico de niveles de acceso","description":"Endpoint temporal para diagnóstico de niveles de acceso","operationId":"debug_access_levels_api_v1_clientes_debug_access_levels_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}},"security":[{"OAuth2PasswordBearer":[]}]}},"/api/v1/clientes/tenant/branding":{"get":{"tags":["Clientes (Super Admin)"],"summary":"Obtener configuración de branding del tenant actual","description":"Obtiene la configuración de branding del cliente (tenant) actual.\n    \n    **Características:**\n    - Usa el cliente_id del contexto de tenant (middleware)\n    - No requiere autenticación de super admin\n    - Solo retorna campos de branding (ligero y optimizado)\n    - Parsea tema_personalizado de JSON a objeto\n    \n    **Permisos requeridos:**\n    - Usuario autenticado (cualquier nivel)\n    \n    **Respuestas:**\n    - 200: Branding obtenido exitosamente\n    - 400: No se pudo determinar el tenant actual\n    - 404: Cliente no encontrado o inactivo\n    - 500: Error interno del servidor","operationId":"obtener_branding_tenant_api_v1_clientes_tenant_branding_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/BrandingRead"}}}}},"security":[{"OAuth2PasswordBearer":[]}]}},"/api/v1/modulos/":{"get":{"tags":["Módulos (Super Admin)"],"summary":"Listar catálogo de módulos con paginación","description":"Obtiene la lista de todos los módulos disponibles en el sistema con paginación completa.\n    \n    **Permisos requeridos:**\n    - Cualquier usuario autenticado\n    \n    **Parámetros de query:**\n    - skip: Número de registros a saltar (paginación)\n    - limit: Límite de registros a retornar (paginación)\n    - solo_activos: Filtrar solo módulos activos\n    \n    **Respuestas:**\n    - 200: Catálogo de módulos recuperado exitosamente con metadata de paginación\n    - 500: Error interno del servidor","operationId":"listar_modulos_api_v1_modulos__get","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"skip","in":"query","required":false,"schema":{"type":"integer","minimum":0,"description":"Número de registros a saltar","default":0,"title":"Skip"},"description":"Número de registros a saltar"},{"name":"limit","in":"query","required":false,"schema":{"type":"integer","maximum":1000,"minimum":1,"description":"Límite de registros a retornar","default":100,"title":"Limit"},"description":"Límite de registros a retornar"},{"name":"solo_activos","in":"query","required":false,"schema":{"type":"boolean","description":"Filtrar solo módulos activos","default":true,"title":"Solo Activos"},"description":"Filtrar solo módulos activos"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/PaginatedModuloResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"post":{"tags":["Módulos (Super Admin)"],"summary":"Crear nuevo módulo","description":"Crea un nuevo módulo en el catálogo del sistema.\n    \n    **Permisos requeridos:**\n    - Super Administrador\n    \n    **Validaciones:**\n    - El código del módulo debe ser único\n    - Todos los campos requeridos deben estar presentes\n    \n    **Respuestas:**\n    - 201: Módulo creado exitosamente\n    - 400: Datos de entrada inválidos\n    - 409: Código de módulo ya existe\n    - 403: Sin permisos suficientes\n    - 500: Error interno del servidor","operationId":"crear_modulo_api_v1_modulos__post","requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ModuloCreate"}}}},"responses":{"201":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ModuloResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/modulos/search/":{"get":{"tags":["Módulos (Super Admin)"],"summary":"Buscar módulos con filtros","description":"Busca módulos con filtros opcionales y paginación.\n    \n    **Permisos requeridos:**\n    - Cualquier usuario autenticado\n    \n    **Parámetros de query:**\n    - buscar: Texto a buscar en nombre, código o descripción\n    - es_modulo_core: Filtrar por módulos core (true/false)\n    - requiere_licencia: Filtrar por módulos que requieren licencia (true/false)\n    - solo_activos: Filtrar solo módulos activos\n    - skip: Número de registros a saltar\n    - limit: Límite de registros a retornar\n    \n    **Respuestas:**\n    - 200: Búsqueda completada exitosamente\n    - 500: Error interno del servidor","operationId":"buscar_modulos_api_v1_modulos_search__get","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"buscar","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Texto a buscar","title":"Buscar"},"description":"Texto a buscar"},{"name":"es_modulo_core","in":"query","required":false,"schema":{"anyOf":[{"type":"boolean"},{"type":"null"}],"description":"Filtrar por módulos core","title":"Es Modulo Core"},"description":"Filtrar por módulos core"},{"name":"requiere_licencia","in":"query","required":false,"schema":{"anyOf":[{"type":"boolean"},{"type":"null"}],"description":"Filtrar por módulos que requieren licencia","title":"Requiere Licencia"},"description":"Filtrar por módulos que requieren licencia"},{"name":"solo_activos","in":"query","required":false,"schema":{"type":"boolean","description":"Filtrar solo módulos activos","default":true,"title":"Solo Activos"},"description":"Filtrar solo módulos activos"},{"name":"skip","in":"query","required":false,"schema":{"type":"integer","minimum":0,"description":"Número de registros a saltar","default":0,"title":"Skip"},"description":"Número de registros a saltar"},{"name":"limit","in":"query","required":false,"schema":{"type":"integer","maximum":1000,"minimum":1,"description":"Límite de registros a retornar","default":100,"title":"Limit"},"description":"Límite de registros a retornar"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/PaginatedModuloResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/modulos/{modulo_id}/":{"get":{"tags":["Módulos (Super Admin)"],"summary":"Obtener detalle de un módulo","description":"Obtiene los detalles completos de un módulo específico.\n    \n    **Permisos requeridos:**\n    - Cualquier usuario autenticado\n    \n    **Parámetros de ruta:**\n    - modulo_id: ID del módulo a consultar\n    \n    **Respuestas:**\n    - 200: Módulo encontrado y devuelto\n    - 404: Módulo no encontrado\n    - 500: Error interno del servidor","operationId":"obtener_modulo_api_v1_modulos__modulo_id___get","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"modulo_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","description":"ID del módulo","title":"Modulo Id"},"description":"ID del módulo"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ModuloResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"put":{"tags":["Módulos (Super Admin)"],"summary":"Actualizar módulo existente","description":"Actualiza un módulo existente en el catálogo del sistema.\n    \n    **Permisos requeridos:**\n    - Super Administrador\n    \n    **Validaciones:**\n    - El módulo debe existir\n    - Si se actualiza el código, debe ser único\n    \n    **Respuestas:**\n    - 200: Módulo actualizado exitosamente\n    - 400: Datos de entrada inválidos\n    - 404: Módulo no encontrado\n    - 409: Código de módulo ya existe\n    - 403: Sin permisos suficientes\n    - 500: Error interno del servidor","operationId":"actualizar_modulo_api_v1_modulos__modulo_id___put","parameters":[{"name":"modulo_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","description":"ID del módulo","title":"Modulo Id"},"description":"ID del módulo"}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ModuloUpdate"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ModuloResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"delete":{"tags":["Módulos (Super Admin)"],"summary":"Eliminar módulo","description":"Elimina (desactiva) un módulo del catálogo del sistema.\n    Implementa eliminación lógica (soft delete).\n    \n    **Permisos requeridos:**\n    - Super Administrador\n    \n    **Validaciones:**\n    - El módulo debe existir\n    - No se puede eliminar un módulo core\n    - No se puede eliminar un módulo activo para algún cliente\n    \n    **Respuestas:**\n    - 200: Módulo eliminado exitosamente\n    - 400: No se puede eliminar el módulo (validaciones)\n    - 404: Módulo no encontrado\n    - 403: Sin permisos suficientes\n    - 500: Error interno del servidor","operationId":"eliminar_modulo_api_v1_modulos__modulo_id___delete","parameters":[{"name":"modulo_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","description":"ID del módulo","title":"Modulo Id"},"description":"ID del módulo"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ModuloDeleteResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/modulos/clientes/{cliente_id}/modulos/":{"get":{"tags":["Módulos (Super Admin)"],"summary":"Listar módulos de un cliente","description":"Obtiene todos los módulos con información de activación para un cliente específico.\n    Incluye información completa de activación: fecha_activacion, fecha_vencimiento,\n    configuracion_json, limite_usuarios, limite_registros, etc.\n    \n    **Permisos requeridos:**\n    - Cualquier usuario autenticado\n    \n    **Parámetros de ruta:**\n    - cliente_id: ID del cliente\n    \n    **Respuestas:**\n    - 200: Lista de módulos con información de activación completa\n    - 500: Error interno del servidor","operationId":"listar_modulos_cliente_api_v1_modulos_clientes__cliente_id__modulos__get","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"cliente_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","description":"ID del cliente","title":"Cliente Id"},"description":"ID del cliente"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ModuloConInfoActivacionListResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/modulos/clientes/{cliente_id}/modulos/{modulo_id}/activar/":{"post":{"tags":["Módulos (Super Admin)"],"summary":"Activar módulo para un cliente","description":"Activa un módulo específico para un cliente con configuración personalizada.\n    \n    **Permisos requeridos:**\n    - Super Administrador\n    \n    **Parámetros de ruta:**\n    - cliente_id: ID del cliente\n    - modulo_id: ID del módulo a activar\n    \n    **Body:**\n    - Configuración de activación (límites, fechas, configuración JSON)\n    \n    **Validaciones:**\n    - El módulo debe existir y estar activo\n    - El cliente debe existir\n    - No debe estar ya activado\n    \n    **Respuestas:**\n    - 201: Módulo activado exitosamente\n    - 400: Datos de entrada inválidos\n    - 404: Módulo o cliente no encontrado\n    - 409: Módulo ya activado\n    - 403: Sin permisos suficientes\n    - 500: Error interno del servidor","operationId":"activar_modulo_cliente_api_v1_modulos_clientes__cliente_id__modulos__modulo_id__activar__post","parameters":[{"name":"cliente_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","description":"ID del cliente","title":"Cliente Id"},"description":"ID del cliente"},{"name":"modulo_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","description":"ID del módulo","title":"Modulo Id"},"description":"ID del módulo"}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ModuloActivoCreate"}}}},"responses":{"201":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"object","title":"Response Activar Modulo Cliente Api V1 Modulos Clientes  Cliente Id  Modulos  Modulo Id  Activar  Post"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/modulos/clientes/{cliente_id}/modulos/{modulo_id}/":{"put":{"tags":["Módulos (Super Admin)"],"summary":"Actualizar configuración de módulo activo","description":"Actualiza la configuración de un módulo activo para un cliente.\n    \n    **Permisos requeridos:**\n    - Super Administrador\n    \n    **Parámetros de ruta:**\n    - cliente_id: ID del cliente\n    - modulo_id: ID del módulo\n    \n    **Body:**\n    - Configuración actualizada (límites, fechas, configuración JSON)\n    \n    **Validaciones:**\n    - El módulo debe estar activado para el cliente\n    \n    **Respuestas:**\n    - 200: Configuración actualizada exitosamente\n    - 400: Datos de entrada inválidos\n    - 404: Módulo activo no encontrado\n    - 403: Sin permisos suficientes\n    - 500: Error interno del servidor","operationId":"actualizar_modulo_activo_api_v1_modulos_clientes__cliente_id__modulos__modulo_id___put","parameters":[{"name":"cliente_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","description":"ID del cliente","title":"Cliente Id"},"description":"ID del cliente"},{"name":"modulo_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","description":"ID del módulo","title":"Modulo Id"},"description":"ID del módulo"}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ModuloActivoUpdate"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"object","title":"Response Actualizar Modulo Activo Api V1 Modulos Clientes  Cliente Id  Modulos  Modulo Id   Put"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/modulos/clientes/{cliente_id}/modulos/{modulo_id}/desactivar/":{"post":{"tags":["Módulos (Super Admin)"],"summary":"Desactivar módulo para un cliente","description":"Desactiva un módulo específico para un cliente.\n    \n    **Permisos requeridos:**\n    - Super Administrador\n    \n    **Parámetros de ruta:**\n    - cliente_id: ID del cliente\n    - modulo_id: ID del módulo a desactivar\n    \n    **Validaciones:**\n    - El módulo debe estar activado para el cliente\n    - No se puede desactivar un módulo core\n    \n    **Respuestas:**\n    - 200: Módulo desactivado exitosamente\n    - 400: No se puede desactivar el módulo (validaciones)\n    - 404: Módulo activo no encontrado\n    - 403: Sin permisos suficientes\n    - 500: Error interno del servidor","operationId":"desactivar_modulo_cliente_api_v1_modulos_clientes__cliente_id__modulos__modulo_id__desactivar__post","parameters":[{"name":"cliente_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","description":"ID del cliente","title":"Cliente Id"},"description":"ID del cliente"},{"name":"modulo_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","description":"ID del módulo","title":"Modulo Id"},"description":"ID del módulo"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"object","title":"Response Desactivar Modulo Cliente Api V1 Modulos Clientes  Cliente Id  Modulos  Modulo Id  Desactivar  Post"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/modulos/clientes/{cliente_id}/modulos/{modulo_id}/activar-completo/":{"post":{"tags":["Módulos (Super Admin)"],"summary":"[WORKFLOW] Activar módulo completo con conexión","description":"Workflow integrado que activa un módulo para un cliente y configura su conexión de BD.\n    \n    **Flujo del workflow:**\n    1. Valida que el módulo existe y está activo\n    2. Valida que el cliente existe\n    3. Activa el módulo para el cliente\n    4. Configura la conexión de base de datos\n    5. Testea la conexión\n    6. Retorna estado completo\n    \n    **Permisos requeridos:**\n    - Super Administrador\n    \n    **Body:**\n    - activacion: Configuración de activación del módulo\n    - conexion: Configuración de conexión de BD (opcional)\n    \n    **Respuestas:**\n    - 201: Módulo activado y configurado exitosamente\n    - 400: Datos de entrada inválidos o test de conexión fallido\n    - 404: Módulo o cliente no encontrado\n    - 409: Módulo ya activado\n    - 403: Sin permisos suficientes\n    - 500: Error interno del servidor","operationId":"activar_modulo_completo_api_v1_modulos_clientes__cliente_id__modulos__modulo_id__activar_completo__post","parameters":[{"name":"cliente_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","description":"ID del cliente","title":"Cliente Id"},"description":"ID del cliente"},{"name":"modulo_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","description":"ID del módulo","title":"Modulo Id"},"description":"ID del módulo"}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/Body_activar_modulo_completo_api_v1_modulos_clientes__cliente_id__modulos__modulo_id__activar_completo__post"}}}},"responses":{"201":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"object","title":"Response Activar Modulo Completo Api V1 Modulos Clientes  Cliente Id  Modulos  Modulo Id  Activar Completo  Post"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/modulos/clientes/{cliente_id}/modulos/{modulo_id}/desactivar-completo/":{"delete":{"tags":["Módulos (Super Admin)"],"summary":"[WORKFLOW] Desactivar módulo completo con conexiones","description":"Workflow integrado que desactiva un módulo y todas sus conexiones asociadas.\n    \n    **Flujo del workflow:**\n    1. Valida que el módulo está activado para el cliente\n    2. Desactiva todas las conexiones asociadas\n    3. Desactiva el módulo\n    4. Retorna resumen de operaciones\n    \n    **Permisos requeridos:**\n    - Super Administrador\n    \n    **Respuestas:**\n    - 200: Módulo y conexiones desactivados exitosamente\n    - 404: Módulo no activado para el cliente\n    - 403: Sin permisos suficientes\n    - 500: Error interno del servidor","operationId":"desactivar_modulo_completo_api_v1_modulos_clientes__cliente_id__modulos__modulo_id__desactivar_completo__delete","parameters":[{"name":"cliente_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","description":"ID del cliente","title":"Cliente Id"},"description":"ID del cliente"},{"name":"modulo_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","description":"ID del módulo","title":"Modulo Id"},"description":"ID del módulo"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"object","title":"Response Desactivar Modulo Completo Api V1 Modulos Clientes  Cliente Id  Modulos  Modulo Id  Desactivar Completo  Delete"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/modulos/clientes/{cliente_id}/modulos/{modulo_id}/estado-completo/":{"get":{"tags":["Módulos (Super Admin)"],"summary":"[WORKFLOW] Obtener estado completo de módulo","description":"Workflow integrado que retorna el estado completo de un módulo para un cliente.\n    \n    **Información retornada:**\n    - Información del módulo\n    - Estado de activación\n    - Configuración y límites\n    - Estadísticas de uso\n    - Conexiones configuradas\n    - Estado de conexiones\n    \n    **Permisos requeridos:**\n    - Cualquier usuario autenticado\n    \n    **Respuestas:**\n    - 200: Estado completo recuperado exitosamente\n    - 404: Módulo no activado para el cliente\n    - 500: Error interno del servidor","operationId":"obtener_estado_completo_modulo_api_v1_modulos_clientes__cliente_id__modulos__modulo_id__estado_completo__get","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"cliente_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","description":"ID del cliente","title":"Cliente Id"},"description":"ID del cliente"},{"name":"modulo_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","description":"ID del módulo","title":"Modulo Id"},"description":"ID del módulo"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"object","title":"Response Obtener Estado Completo Modulo Api V1 Modulos Clientes  Cliente Id  Modulos  Modulo Id  Estado Completo  Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/conexiones/clientes/{cliente_id}/":{"get":{"tags":["Conexiones BD (Super Admin)"],"summary":"Listar conexiones de un cliente","description":"Obtiene la lista de todas las conexiones de base de datos configuradas para un cliente.\n    \n    **Permisos requeridos:**\n    - Nivel de acceso 5 (Super Administrador)\n    \n    **Parámetros de ruta:**\n    - cliente_id: ID del cliente\n    \n    **Respuestas:**\n    - 200: Lista de conexiones recuperada exitosamente\n    - 403: Acceso denegado - se requiere nivel de super administrador\n    - 404: Cliente no encontrado\n    - 500: Error interno del servidor","operationId":"listar_conexiones_cliente_api_v1_conexiones_clientes__cliente_id___get","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"cliente_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","description":"ID del cliente","title":"Cliente Id"},"description":"ID del cliente"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/ConexionRead"},"title":"Response Listar Conexiones Cliente Api V1 Conexiones Clientes  Cliente Id   Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"post":{"tags":["Conexiones BD (Super Admin)"],"summary":"Crear nueva conexión","description":"Crea una nueva conexión de base de datos para un cliente.\n    \n    **Permisos requeridos:**\n    - Nivel de acceso 5 (Super Administrador)\n    \n    **Parámetros de ruta:**\n    - cliente_id: ID del cliente\n    \n    **Respuestas:**\n    - 201: Conexión creada exitosamente\n    - 403: Acceso denegado - se requiere nivel de super administrador\n    - 409: Conflicto - ya existe conexión principal para este cliente\n    - 422: Error de validación en los datos\n    - 500: Error interno del servidor","operationId":"crear_conexion_api_v1_conexiones_clientes__cliente_id___post","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"cliente_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","description":"ID del cliente","title":"Cliente Id"},"description":"ID del cliente"}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ConexionCreate"}}}},"responses":{"201":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ConexionRead"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/conexiones/clientes/{cliente_id}/principal/":{"get":{"tags":["Conexiones BD (Super Admin)"],"summary":"Obtener conexión principal del cliente","description":"Obtiene la conexión principal configurada para un cliente.\n    \n    **Permisos requeridos:**\n    - Nivel de acceso 5 (Super Administrador)\n    \n    **Parámetros de ruta:**\n    - cliente_id: ID del cliente\n    \n    **Respuestas:**\n    - 200: Conexión principal encontrada (puede ser null si no existe)\n    - 403: Acceso denegado - se requiere nivel de super administrador\n    - 500: Error interno del servidor","operationId":"obtener_conexion_principal_api_v1_conexiones_clientes__cliente_id__principal__get","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"cliente_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","description":"ID del cliente","title":"Cliente Id"},"description":"ID del cliente"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"anyOf":[{"$ref":"#/components/schemas/ConexionRead"},{"type":"null"}],"title":"Response Obtener Conexion Principal Api V1 Conexiones Clientes  Cliente Id  Principal  Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/conexiones/{conexion_id}/":{"put":{"tags":["Conexiones BD (Super Admin)"],"summary":"Actualizar conexión","description":"Actualiza una conexión de base de datos existente.\n    \n    **Permisos requeridos:**\n    - Nivel de acceso 5 (Super Administrador)\n    \n    **Parámetros de ruta:**\n    - conexion_id: ID de la conexión a actualizar\n    \n    **Respuestas:**\n    - 200: Conexión actualizada exitosamente\n    - 403: Acceso denegado - se requiere nivel de super administrador\n    - 404: Conexión no encontrada\n    - 409: Conflicto - ya existe conexión principal para este cliente\n    - 422: Error de validación en los datos\n    - 500: Error interno del servidor","operationId":"actualizar_conexion_api_v1_conexiones__conexion_id___put","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"conexion_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","description":"ID de la conexión","title":"Conexion Id"},"description":"ID de la conexión"}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ConexionUpdate"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ConexionRead"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"delete":{"tags":["Conexiones BD (Super Admin)"],"summary":"Desactivar conexión","description":"Desactiva una conexión de base de datos (eliminación lógica).\n    \n    **Permisos requeridos:**\n    - Nivel de acceso 5 (Super Administrador)\n    \n    **Parámetros de ruta:**\n    - conexion_id: ID de la conexión a desactivar\n    \n    **Respuestas:**\n    - 204: Conexión desactivada exitosamente\n    - 403: Acceso denegado - se requiere nivel de super administrador\n    - 404: Conexión no encontrada\n    - 500: Error interno del servidor","operationId":"desactivar_conexion_api_v1_conexiones__conexion_id___delete","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"conexion_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","description":"ID de la conexión","title":"Conexion Id"},"description":"ID de la conexión"}],"responses":{"204":{"description":"Successful Response"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/conexiones/test":{"post":{"tags":["Conexiones BD (Super Admin)"],"summary":"Testear conexión","description":"Testea la conectividad de una configuración de conexión sin guardarla.\n    \n    **Permisos requeridos:**\n    - Nivel de acceso 5 (Super Administrador)\n    \n    **Respuestas:**\n    - 200: Resultado del test de conexión\n    - 403: Acceso denegado - se requiere nivel de super administrador\n    - 422: Error de validación en los datos\n    - 500: Error interno del servidor","operationId":"test_conexion_api_v1_conexiones_test_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ConexionTest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"OAuth2PasswordBearer":[]}]}},"/api/v1/usuarios/":{"get":{"tags":["Usuarios"],"summary":"Obtener lista paginada de usuarios","description":"Recupera una lista paginada de usuarios activos con sus roles **del cliente actual**.\n    \n    **Permisos requeridos:**\n    - Rol 'Administrador'\n    \n    **Parámetros de consulta:**\n    - page: Número de página a mostrar (comienza en 1)\n    - limit: Número máximo de usuarios por página (1-100)\n    - search: Término opcional para buscar en nombre, apellido, correo o nombre_usuario\n    \n    **Respuestas:**\n    - 200: Lista paginada recuperada exitosamente\n    - 422: Parámetros de consulta inválidos\n    - 500: Error interno del servidor","operationId":"list_usuarios_api_v1_usuarios__get","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"page","in":"query","required":false,"schema":{"type":"integer","minimum":1,"description":"Número de página a mostrar","default":1,"title":"Page"},"description":"Número de página a mostrar"},{"name":"limit","in":"query","required":false,"schema":{"type":"integer","maximum":100,"minimum":1,"description":"Número de usuarios por página","default":10,"title":"Limit"},"description":"Número de usuarios por página"},{"name":"search","in":"query","required":false,"schema":{"anyOf":[{"type":"string","minLength":1,"maxLength":50},{"type":"null"}],"description":"Término de búsqueda opcional (nombre, apellido, correo, nombre_usuario)","title":"Search"},"description":"Término de búsqueda opcional (nombre, apellido, correo, nombre_usuario)"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/PaginatedUsuarioResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"post":{"tags":["Usuarios"],"summary":"Crear un nuevo usuario","description":"Crea un nuevo usuario en el sistema **dentro del cliente del administrador que lo crea**.\n    \n    **Permisos requeridos:**\n    - Rol 'Administrador'\n    \n    **Validaciones:**\n    - Nombre de usuario único **dentro del cliente**\n    - Correo electrónico único **dentro del cliente**\n    - Formato válido de contraseña (mínimo 8 caracteres, mayúscula, minúscula y número)\n    - Campos obligatorios: nombre_usuario, correo, contrasena\n    \n    **Respuestas:**\n    - 201: Usuario creado exitosamente\n    - 409: Conflicto - Nombre de usuario o correo ya existen **en el cliente**\n    - 422: Error de validación en los datos de entrada\n    - 500: Error interno del servidor","operationId":"crear_usuario_api_v1_usuarios__post","security":[{"OAuth2PasswordBearer":[]}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UsuarioCreate"}}}},"responses":{"201":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UsuarioRead"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/usuarios/{usuario_id}/":{"get":{"tags":["Usuarios"],"summary":"Obtener un usuario por ID","description":"Recupera los detalles completos de un usuario específico mediante su ID, incluyendo sus roles activos.\n    \n    **Permisos requeridos:**\n    - Autenticación básica (usuario puede ver su propia información)\n    - **Los administradores solo pueden ver usuarios de su mismo cliente**\n    \n    **Parámetros de ruta:**\n    - usuario_id: ID numérico del usuario a consultar\n    \n    **Respuestas:**\n    - 200: Usuario encontrado y devuelto\n    - 403: Acceso denegado (intentar acceder a usuario de otro cliente)\n    - 404: Usuario no encontrado\n    - 500: Error interno del servidor","operationId":"read_usuario_api_v1_usuarios__usuario_id___get","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"usuario_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","description":"ID del usuario","title":"Usuario Id"},"description":"ID del usuario"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UsuarioReadWithRoles"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"put":{"tags":["Usuarios"],"summary":"Actualizar un usuario existente","description":"Actualiza la información de un usuario existente mediante operación parcial (PATCH).\n    \n    **Permisos requeridos:**\n    - Rol 'Administrador'\n    \n    **Parámetros de ruta:**\n    - usuario_id: ID numérico del usuario a actualizar\n    \n    **Validaciones:**\n    - Al menos un campo debe ser proporcionado para actualizar\n    - Si se actualiza nombre_usuario o correo, deben mantenerse únicos **dentro del cliente**\n    \n    **Respuestas:**\n    - 200: Usuario actualizado exitosamente\n    - 400: Cuerpo de solicitud vacío\n    - 403: Acceso denegado (intentar actualizar usuario de otro cliente)\n    - 404: Usuario no encontrado\n    - 409: Conflicto - Nuevo nombre_usuario o correo ya existen **en el cliente**\n    - 422: Error de validación en los datos\n    - 500: Error interno del servidor","operationId":"actualizar_usuario_api_v1_usuarios__usuario_id___put","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"usuario_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","description":"ID del usuario","title":"Usuario Id"},"description":"ID del usuario"}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UsuarioUpdate"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UsuarioRead"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"delete":{"tags":["Usuarios"],"summary":"Eliminar lógicamente un usuario","description":"Realiza un borrado lógico de un usuario estableciendo 'es_eliminado' a True y 'es_activo' a False.\n    \n    **Permisos requeridos:**\n    - Rol 'Administrador'\n    \n    **Parámetros de ruta:**\n    - usuario_id: ID numérico del usuario a eliminar\n    \n    **Notas:**\n    - Operación reversible mediante actualización directa en BD\n    - No elimina físicamente el registro\n    - Desactiva automáticamente todas las asignaciones de roles del usuario\n    - **Solo puede eliminar usuarios de su mismo cliente**\n    \n    **Respuestas:**\n    - 200: Usuario eliminado exitosamente\n    - 403: Acceso denegado (intentar eliminar usuario de otro cliente)\n    - 404: Usuario no encontrado\n    - 500: Error interno del servidor","operationId":"eliminar_usuario_api_v1_usuarios__usuario_id___delete","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"usuario_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","description":"ID del usuario","title":"Usuario Id"},"description":"ID del usuario"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"object","title":"Response Eliminar Usuario Api V1 Usuarios  Usuario Id   Delete"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/usuarios/{usuario_id}/roles/{rol_id}/":{"post":{"tags":["Usuarios"],"summary":"Asignar un rol a un usuario","description":"Asigna un rol específico a un usuario. Si la asignación existía inactiva, la reactiva.\n    \n    **Permisos requeridos:**\n    - Rol 'Administrador'\n    \n    **Parámetros de ruta:**\n    - usuario_id: ID numérico del usuario\n    - rol_id: ID numérico del rol a asignar\n    \n    **Validaciones:**\n    - El usuario debe existir y no estar eliminado **en el cliente**\n    - El rol debe existir y estar activo **en el cliente o ser un rol del sistema**\n    \n    **Respuestas:**\n    - 201: Rol asignado exitosamente\n    - 403: Acceso denegado (operación cruzada de cliente)\n    - 404: Usuario o rol no encontrado\n    - 409: El rol ya está asignado y activo\n    - 500: Error interno del servidor","operationId":"assign_rol_to_usuario_api_v1_usuarios__usuario_id__roles__rol_id___post","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"usuario_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","description":"ID del usuario","title":"Usuario Id"},"description":"ID del usuario"},{"name":"rol_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","description":"ID del rol","title":"Rol Id"},"description":"ID del rol"}],"responses":{"201":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UsuarioRolRead"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"delete":{"tags":["Usuarios"],"summary":"Revocar un rol de un usuario","description":"Revoca (desactiva) la asignación de un rol específico para un usuario.\n    \n    **Permisos requeridos:**\n    - Rol 'Administrador'\n    \n    **Parámetros de ruta:**\n    - usuario_id: ID numérico del usuario\n    - rol_id: ID numérico del rol a revocar\n    \n    **Notas:**\n    - No elimina físicamente el registro, solo lo desactiva\n    - Operación reversible mediante re-asignación\n    - **Solo puede revocar roles de usuarios de su mismo cliente**\n    \n    **Respuestas:**\n    - 200: Rol revocado exitosamente\n    - 403: Acceso denegado (operación cruzada de cliente)\n    - 404: Asignación no encontrada\n    - 500: Error interno del servidor","operationId":"revoke_rol_from_usuario_api_v1_usuarios__usuario_id__roles__rol_id___delete","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"usuario_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","description":"ID del usuario","title":"Usuario Id"},"description":"ID del usuario"},{"name":"rol_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","description":"ID del rol","title":"Rol Id"},"description":"ID del rol"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UsuarioRolRead"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/usuarios/{usuario_id}/roles/":{"get":{"tags":["Usuarios"],"summary":"Obtener los roles de un usuario","description":"Devuelve una lista de todos los roles activos asignados a un usuario específico.\n    \n    **Permisos requeridos:**\n    - Autenticación básica (usuario puede ver sus propios roles)\n    - **Los administradores solo pueden ver roles de usuarios de su mismo cliente**\n    \n    **Parámetros de ruta:**\n    - usuario_id: ID numérico del usuario\n    \n    **Respuestas:**\n    - 200: Lista de roles recuperada exitosamente\n    - 403: Acceso denegado (intentar acceder a roles de usuario de otro cliente)\n    - 500: Error interno del servidor","operationId":"read_usuario_roles_api_v1_usuarios__usuario_id__roles__get","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"usuario_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","description":"ID del usuario","title":"Usuario Id"},"description":"ID del usuario"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/RolRead"},"title":"Response Read Usuario Roles Api V1 Usuarios  Usuario Id  Roles  Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/roles/":{"post":{"tags":["Roles"],"summary":"Crear un nuevo rol","description":"Crea un nuevo rol en el sistema **dentro del cliente del administrador**.\n\n    **Permisos requeridos:**\n    - Rol 'Administrador'\n\n    **Validaciones:**\n    - Nombre único **dentro del cliente**.\n    - Campos obligatorios: nombre.\n\n    **Respuestas:**\n    - 201: Rol creado exitosamente\n    - 403: Intento de crear un rol del sistema sin ser SUPER_ADMIN\n    - 409: Conflicto - El nombre del rol ya existe **en el cliente**\n    - 422: Error de validación en los datos de entrada\n    - 500: Error interno del servidor","operationId":"create_rol_api_v1_roles__post","security":[{"OAuth2PasswordBearer":[]}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/RolCreate"}}}},"responses":{"201":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/RolRead"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"get":{"tags":["Roles"],"summary":"Obtener lista paginada de roles","description":"Recupera una lista paginada de roles **del cliente actual y roles del sistema**.\n\n    **Permisos requeridos:**\n    - Rol 'Administrador'\n\n    **Parámetros de consulta:**\n    - page: Número de página a mostrar (comienza en 1)\n    - limit: Número máximo de roles por página (1-100)\n    - search: Término opcional para buscar en nombre o descripción\n\n    **Respuestas:**\n    - 200: Lista paginada recuperada exitosamente\n    - 422: Parámetros de consulta inválidos\n    - 500: Error interno del servidor","operationId":"read_roles_paginated_api_v1_roles__get","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"page","in":"query","required":false,"schema":{"type":"integer","minimum":1,"description":"Número de página a recuperar","default":1,"title":"Page"},"description":"Número de página a recuperar"},{"name":"limit","in":"query","required":false,"schema":{"type":"integer","maximum":100,"minimum":1,"description":"Número de roles por página","default":10,"title":"Limit"},"description":"Número de roles por página"},{"name":"search","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Término de búsqueda para filtrar por nombre o descripción","title":"Search"},"description":"Término de búsqueda para filtrar por nombre o descripción"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/PaginatedRolResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/roles/all-active/":{"get":{"tags":["Roles"],"summary":"Obtener todos los roles activos","description":"Devuelve una lista de todos los roles activos **del cliente actual y roles del sistema**.\n    Ideal para selectores y listas desplegables en interfaces de usuario.\n\n    **Permisos requeridos:**\n    - Rol 'Administrador'\n\n    **Respuestas:**\n    - 200: Lista simple recuperada exitosamente\n    - 500: Error interno del servidor","operationId":"read_all_active_roles_api_v1_roles_all_active__get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"items":{"$ref":"#/components/schemas/RolRead"},"type":"array","title":"Response Read All Active Roles Api V1 Roles All Active  Get"}}}}},"security":[{"OAuth2PasswordBearer":[]}]}},"/api/v1/roles/{rol_id}/":{"get":{"tags":["Roles"],"summary":"Obtener un rol por ID","description":"Recupera los detalles completos de un rol específico por su ID.\n    Permite obtener roles del cliente, roles del sistema y roles inactivos.\n\n    **Permisos requeridos:**\n    - Rol 'Administrador'\n\n    **Respuestas:**\n    - 200: Rol encontrado y devuelto\n    - 403: Acceso denegado (rol del sistema sin ser SUPER_ADMIN)\n    - 404: Rol no encontrado\n    - 500: Error interno del servidor","operationId":"read_rol_api_v1_roles__rol_id___get","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"rol_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","description":"ID del rol","title":"Rol Id"},"description":"ID del rol"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/RolRead"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"put":{"tags":["Roles"],"summary":"Actualizar un rol existente","description":"Actualiza la información de un rol existente mediante operación parcial.\n\n    **Permisos requeridos:**\n    - Rol 'Administrador'\n\n    **Validaciones:**\n    - Si se actualiza el nombre, debe mantenerse único **dentro del cliente**.\n    - Al menos un campo debe ser proporcionado.\n\n    **Respuestas:**\n    - 200: Rol actualizado exitosamente\n    - 400: Cuerpo de solicitud vacío\n    - 403: Acceso denegado (rol del sistema sin ser SUPER_ADMIN)\n    - 404: Rol no encontrado\n    - 409: Conflicto - Nuevo nombre ya existe **en el cliente**\n    - 422: Error de validación en los datos\n    - 500: Error interno del servidor","operationId":"update_rol_api_v1_roles__rol_id___put","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"rol_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","description":"ID del rol","title":"Rol Id"},"description":"ID del rol"}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/RolUpdate"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/RolRead"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"delete":{"tags":["Roles"],"summary":"Desactivar un rol (Borrado Lógico)","description":"Desactiva un rol estableciendo su estado 'es_activo' a False (borrado lógico).\n\n    **Permisos requeridos:**\n    - Rol 'Administrador'\n\n    **Notas:**\n    - Operación reversible mediante el endpoint de reactivación.\n    - No elimina físicamente el registro.\n    - **No se puede desactivar un rol del sistema.**\n\n    **Respuestas:**\n    - 200: Rol desactivado exitosamente\n    - 403: Acceso denegado (rol del sistema o fuera de cliente)\n    - 404: Rol no encontrado\n    - 400: Rol ya está desactivado\n    - 500: Error interno del servidor","operationId":"deactivate_rol_api_v1_roles__rol_id___delete","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"rol_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","description":"ID del rol","title":"Rol Id"},"description":"ID del rol"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/RolRead"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/roles/{rol_id}/reactivate/":{"post":{"tags":["Roles"],"summary":"Reactivar un rol desactivado","description":"Reactiva un rol previamente desactivado estableciendo 'es_activo' a True.\n\n    **Permisos requeridos:**\n    - Rol 'Administrador'\n\n    **Respuestas:**\n    - 200: Rol reactivado exitosamente\n    - 403: Acceso denegado (rol del sistema o fuera de cliente)\n    - 404: Rol no encontrado\n    - 400: Rol ya está activo\n    - 500: Error interno del servidor","operationId":"reactivate_rol_api_v1_roles__rol_id__reactivate__post","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"rol_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","description":"ID del rol","title":"Rol Id"},"description":"ID del rol"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/RolRead"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/roles/{rol_id}/permisos/":{"get":{"tags":["Roles"],"summary":"Obtener Permisos de un Rol","description":"Obtiene la lista de permisos de menú activos asignados a un rol específico.\n\n    **Permisos requeridos:**\n    - Rol 'Administrador'\n\n    **Respuestas:**\n    - 200: Lista de permisos recuperada\n    - 403: Acceso denegado (rol del sistema sin ser SUPER_ADMIN)\n    - 404: Rol no encontrado\n    - 500: Error interno del servidor","operationId":"get_permisos_por_rol_api_v1_roles__rol_id__permisos__get","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"rol_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"ID del Rol","description":"El ID del rol para consultar sus permisos"},"description":"El ID del rol para consultar sus permisos"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/app__modules__rbac__presentation__schemas__PermisoRead"},"title":"Response Get Permisos Por Rol Api V1 Roles  Rol Id  Permisos  Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"put":{"tags":["Roles"],"summary":"Actualizar Permisos de un Rol","description":"Sobrescribe **TODOS** los permisos de menú para un rol específico.\n    La lista enviada reemplazará completamente la lista actual de permisos.\n\n    **Permisos requeridos:**\n    - Rol 'Administrador'\n\n    **Respuestas:**\n    - 204: Permisos actualizados exitosamente (No Content)\n    - 403: Acceso denegado (rol del sistema sin ser SUPER_ADMIN)\n    - 404: Rol no encontrado\n    - 422: Error de validación en la lista de permisos\n    - 500: Error interno del servidor","operationId":"update_permisos_rol_api_v1_roles__rol_id__permisos__put","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"rol_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"ID del Rol","description":"El ID del rol cuyos permisos se actualizarán"},"description":"El ID del rol cuyos permisos se actualizarán"}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/PermisoUpdatePayload","description":"Objeto que contiene la lista completa de los nuevos permisos para el rol"}}}},"responses":{"204":{"description":"Successful Response"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/permisos/roles/{rol_id}/menus/{menu_id}/":{"put":{"tags":["Permisos (Rol-Menú)"],"summary":"Asignar o actualizar permisos de un rol sobre un menú","description":"Establece los permisos (ver, editar, eliminar) para un rol específico sobre un menú específico. \n    Si la asignación de permisos no existe, se crea. Si existe, se actualiza con los valores proporcionados.\n\n    **Permisos requeridos:**\n    - Rol 'Administrador'\n\n    **Respuestas:**\n    - 200: Permiso creado/actualizado exitosamente\n    - 403: Acceso denegado (rol o menú de otro cliente)\n    - 404: Rol o Menú no encontrado\n    - 422: Error de validación en los datos de entrada\n    - 500: Error interno del servidor","operationId":"set_permission_api_v1_permisos_roles__rol_id__menus__menu_id___put","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"rol_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","description":"ID del rol","title":"Rol Id"},"description":"ID del rol"},{"name":"menu_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","description":"ID del menú","title":"Menu Id"},"description":"ID del menú"}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/PermisoCreateUpdate"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/app__modules__rbac__presentation__endpoints_permisos__PermisoRead"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"get":{"tags":["Permisos (Rol-Menú)"],"summary":"Obtener el permiso específico de un rol sobre un menú","description":"Devuelve los detalles de la asignación de permisos de un rol sobre un menú específico.\n\n    **Permisos requeridos:**\n    - Rol 'Administrador'\n\n    **Respuestas:**\n    - 200: Permiso encontrado y devuelto\n    - 403: Acceso denegado (permiso de otro cliente)\n    - 404: Permiso (asignación Rol-Menú) no encontrado\n    - 500: Error interno del servidor","operationId":"get_specific_permission_api_v1_permisos_roles__rol_id__menus__menu_id___get","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"rol_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","description":"ID del rol","title":"Rol Id"},"description":"ID del rol"},{"name":"menu_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","description":"ID del menú","title":"Menu Id"},"description":"ID del menú"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/app__modules__rbac__presentation__endpoints_permisos__PermisoRead"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"delete":{"tags":["Permisos (Rol-Menú)"],"summary":"Revocar el permiso de un rol sobre un menú","description":"Elimina (revoca) la asignación de permisos entre un rol y un menú.\n\n    **Permisos requeridos:**\n    - Rol 'Administrador'\n\n    **Respuestas:**\n    - 200: Permiso revocado exitosamente\n    - 403: Acceso denegado (permiso de otro cliente)\n    - 404: Permiso no encontrado (no se puede eliminar lo que no existe)\n    - 500: Error interno del servidor","operationId":"revoke_permission_api_v1_permisos_roles__rol_id__menus__menu_id___delete","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"rol_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","description":"ID del rol","title":"Rol Id"},"description":"ID del rol"},{"name":"menu_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","description":"ID del menú","title":"Menu Id"},"description":"ID del menú"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"object","additionalProperties":{"type":"string"},"title":"Response Revoke Permission Api V1 Permisos Roles  Rol Id  Menus  Menu Id   Delete"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/permisos/roles/{rol_id}/permisos/":{"get":{"tags":["Permisos (Rol-Menú)"],"summary":"Obtener todos los permisos de un rol","description":"Devuelve una lista de todos los permisos asignados a un rol específico, incluyendo detalles del menú asociado (nombre, URL, ícono).\n\n    **Permisos requeridos:**\n    - Rol 'Administrador'\n\n    **Respuestas:**\n    - 200: Lista de permisos recuperada exitosamente\n    - 403: Acceso denegado (rol de otro cliente)\n    - 404: Rol no encontrado\n    - 500: Error interno del servidor","operationId":"get_permissions_for_role_api_v1_permisos_roles__rol_id__permisos__get","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"rol_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","description":"ID del rol","title":"Rol Id"},"description":"ID del rol"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/PermisoReadWithMenu"},"title":"Response Get Permissions For Role Api V1 Permisos Roles  Rol Id  Permisos  Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/menus/getmenu/":{"get":{"tags":["Menus"],"summary":"Obtener Menú del Usuario Autenticado","description":"Obtiene la estructura de menú permitida para el usuario actualmente autenticado, \n    basada en sus roles y permisos asignados.\n\n    **Permisos requeridos:**\n    - Usuario autenticado y activo.\n\n    **Respuestas:**\n    - 200: Menú estructurado devuelto.\n    - 401: No autenticado.\n    - 500: Error interno del servidor.","operationId":"get_menu_api_v1_menus_getmenu__get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/MenuResponse"}}}}},"security":[{"OAuth2PasswordBearer":[]}]}},"/api/v1/menus/all-structured/":{"get":{"tags":["Menus"],"summary":"Obtener Árbol Completo de Menús (Admin)","description":"Obtiene todos los elementos del menú (activos e inactivos) estructurados jerárquicamente. \n    Ideal para la administración completa del menú.\n\n    **Permisos requeridos:**\n    - Rol 'Administrador'\n\n    **Respuestas:**\n    - 200: Estructura completa del menú devuelta.\n    - 403: Acceso denegado (no Admin).\n    - 500: Error interno del servidor.","operationId":"get_all_menus_admin_structured_endpoint_api_v1_menus_all_structured__get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/MenuResponse"}}}}},"security":[{"OAuth2PasswordBearer":[]}]}},"/api/v1/menus/":{"post":{"tags":["Menus"],"summary":"Crear un nuevo ítem de menú (Admin)","description":"Crea un nuevo ítem en el menú (opción, submenú, etc.).\n\n    **Permisos requeridos:**\n    - Rol 'Administrador'\n\n    **Validaciones:**\n    - Campos obligatorios (e.g., nombre, url).\n    - Posible validación de unicidad o existencia de padre.\n\n    **Respuestas:**\n    - 201: Ítem de menú creado exitosamente.\n    - 400: Error de validación de datos (e.g., padre no existe).\n    - 403: Acceso denegado (no Admin).\n    - 422: Error de validación Pydantic.\n    - 500: Error interno del servidor.","operationId":"create_menu_endpoint_api_v1_menus__post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/MenuCreate"}}},"required":true},"responses":{"201":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/MenuReadSingle"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"OAuth2PasswordBearer":[]}]}},"/api/v1/menus/{menu_id}/":{"get":{"tags":["Menus"],"summary":"Obtener detalles de un ítem de menú por ID (Admin)","description":"Recupera los detalles completos de un ítem de menú específico por su ID. \n    Permite obtener ítems activos e inactivos (para revisión administrativa).\n\n    **Permisos requeridos:**\n    - Rol 'Administrador'\n\n    **Respuestas:**\n    - 200: Ítem de menú encontrado y devuelto.\n    - 403: Acceso denegado (no Admin).\n    - 404: Ítem de menú no encontrado.\n    - 500: Error interno del servidor.","operationId":"get_menu_by_id_endpoint_api_v1_menus__menu_id___get","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"menu_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"ID del Menú","description":"El ID del ítem de menú a consultar"},"description":"El ID del ítem de menú a consultar"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/MenuReadSingle"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"put":{"tags":["Menus"],"summary":"Actualizar un ítem de menú existente (Admin)","description":"Actualiza la información de un ítem de menú existente mediante operación parcial.\n\n    **Permisos requeridos:**\n    - Rol 'Administrador'\n\n    **Validaciones:**\n    - Al menos un campo debe ser proporcionado.\n\n    **Respuestas:**\n    - 200: Ítem de menú actualizado exitosamente.\n    - 400: Cuerpo de solicitud vacío.\n    - 403: Acceso denegado (no Admin).\n    - 404: Ítem de menú no encontrado.\n    - 409: Conflicto (e.g., url duplicada si se validara).\n    - 422: Error de validación Pydantic.\n    - 500: Error interno del servidor.","operationId":"update_menu_endpoint_api_v1_menus__menu_id___put","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"menu_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"ID del Menú","description":"El ID del ítem de menú a actualizar"},"description":"El ID del ítem de menú a actualizar"}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/MenuUpdate"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/MenuReadSingle"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"delete":{"tags":["Menus"],"summary":"Desactivar un ítem de menú (Borrado Lógico) (Admin)","description":"Desactiva un ítem de menú estableciendo su estado 'es_activo' a False (borrado lógico).\n\n    **Permisos requeridos:**\n    - Rol 'Administrador'\n\n    **Notas:**\n    - Operación reversible mediante el endpoint de reactivación.\n    - No elimina físicamente el registro.\n    - **No se puede desactivar un menú del sistema.**\n\n    **Respuestas:**\n    - 200: Ítem de menú desactivado exitosamente (devuelve el ID y estado).\n    - 400: Ítem ya está desactivado.\n    - 403: Acceso denegado (no Admin).\n    - 404: Ítem de menú no encontrado.\n    - 500: Error interno del servidor.","operationId":"deactivate_menu_endpoint_api_v1_menus__menu_id___delete","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"menu_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"ID del Menú","description":"El ID del ítem de menú a desactivar"},"description":"El ID del ítem de menú a desactivar"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"object","title":"Response Deactivate Menu Endpoint Api V1 Menus  Menu Id   Delete"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/menus/{menu_id}/reactivate/":{"put":{"tags":["Menus"],"summary":"Reactivar un ítem de menú desactivado (Admin)","description":"Reactiva un ítem de menú previamente desactivado estableciendo 'es_activo' a True.\n\n    **Permisos requeridos:**\n    - Rol 'Administrador'\n\n    **Respuestas:**\n    - 200: Ítem de menú reactivado exitosamente (devuelve el ID y estado).\n    - 400: Ítem ya está activo.\n    - 403: Acceso denegado (no Admin).\n    - 404: Ítem de menú no encontrado.\n    - 500: Error interno del servidor.","operationId":"reactivate_menu_endpoint_api_v1_menus__menu_id__reactivate__put","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"menu_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"ID del Menú","description":"El ID del ítem de menú a reactivar"},"description":"El ID del ítem de menú a reactivar"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"object","title":"Response Reactivate Menu Endpoint Api V1 Menus  Menu Id  Reactivate  Put"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/menus/area/{area_id}/tree/":{"get":{"tags":["Menus"],"summary":"Obtener árbol de menú para un Área específica (Admin)","description":"Obtiene la estructura jerárquica completa (activos e inactivos) de los menús \n    pertenecientes a un área específica (módulo, sistema, etc.).\n\n    **Permisos requeridos:**\n    - Rol 'Administrador'\n\n    **Respuestas:**\n    - 200: Estructura del menú por área devuelta.\n    - 403: Acceso denegado (no Admin).\n    - 404: Área no encontrada (si el servicio lo valida).\n    - 500: Error interno del servidor.","operationId":"get_menu_tree_by_area_endpoint_api_v1_menus_area__area_id__tree__get","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"area_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"ID del Área","description":"El ID del área a la que pertenece el menú"},"description":"El ID del área a la que pertenece el menú"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/MenuResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/areas/":{"post":{"tags":["Áreas de Menú"],"summary":"Crear una nueva área","description":"Crea una nueva área en el sistema **dentro del cliente del administrador**.\n    \n    **Permisos requeridos:** \n    - Rol 'Administrador'\n    \n    **Validaciones:**\n    - Nombre único **dentro del cliente**\n    - Formato válido de nombre, descripción e icono\n    - Campos obligatorios: nombre\n    \n    **Respuestas:**\n    - 201: Área creada exitosamente\n    - 409: Conflicto - El nombre del área ya existe **en el cliente**\n    - 422: Error de validación en los datos de entrada\n    - 500: Error interno del servidor","operationId":"crear_area_endpoint_api_v1_areas__post","security":[{"OAuth2PasswordBearer":[]}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/AreaCreate"}}}},"responses":{"201":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/AreaRead"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"get":{"tags":["Áreas de Menú"],"summary":"Obtener lista paginada de áreas","description":"Recupera una lista paginada de áreas **del cliente actual** con capacidad de búsqueda y filtrado.\n    \n    **Permisos requeridos:**\n    - Rol 'Administrador'\n    \n    **Parámetros de consulta:**\n    - search: Término opcional para buscar en nombre o descripción\n    - skip: Número de registros a omitir (para paginación)\n    - limit: Número máximo de registros por página (1-100)\n    \n    **Respuestas:**\n    - 200: Lista paginada recuperada exitosamente\n    - 422: Parámetros de consulta inválidos\n    - 500: Error interno del servidor","operationId":"obtener_areas_paginadas_endpoint_api_v1_areas__get","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"search","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Término de búsqueda para filtrar por nombre o descripción","title":"Search"},"description":"Término de búsqueda para filtrar por nombre o descripción"},{"name":"skip","in":"query","required":false,"schema":{"type":"integer","minimum":0,"description":"Número de registros a saltar (offset para paginación)","default":0,"title":"Skip"},"description":"Número de registros a saltar (offset para paginación)"},{"name":"limit","in":"query","required":false,"schema":{"type":"integer","maximum":100,"minimum":1,"description":"Número máximo de registros a devolver por página","default":10,"title":"Limit"},"description":"Número máximo de registros a devolver por página"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/PaginatedAreaResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/areas/list/":{"get":{"tags":["Áreas de Menú"],"summary":"Obtener lista simple de áreas activas","description":"Devuelve una lista simplificada de áreas activas **del cliente actual** para uso en selectores o listas desplegables.\n    \n    **Permisos requeridos:**\n    - Rol 'Administrador'\n    \n    **Respuestas:**\n    - 200: Lista simple recuperada exitosamente\n    - 500: Error interno del servidor","operationId":"obtener_lista_simple_areas_endpoint_api_v1_areas_list__get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"items":{"$ref":"#/components/schemas/AreaSimpleList"},"type":"array","title":"Response Obtener Lista Simple Areas Endpoint Api V1 Areas List  Get"}}}}},"security":[{"OAuth2PasswordBearer":[]}]}},"/api/v1/areas/{area_id}/":{"get":{"tags":["Áreas de Menú"],"summary":"Obtener un área por ID","description":"Recupera los detalles completos de un área específica mediante su ID.\n    **Solo puede acceder a áreas de su mismo cliente**.\n    \n    **Permisos requeridos:**\n    - Rol 'Administrador'\n    \n    **Parámetros de ruta:**\n    - area_id: ID numérico del área a consultar\n    \n    **Respuestas:**\n    - 200: Área encontrada y devuelta\n    - 403: Acceso denegado (área de otro cliente)\n    - 404: Área no encontrada\n    - 500: Error interno del servidor","operationId":"obtener_area_por_id_endpoint_api_v1_areas__area_id___get","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"area_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","description":"ID del área","title":"Area Id"},"description":"ID del área"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/AreaRead"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"put":{"tags":["Áreas de Menú"],"summary":"Actualizar un área existente","description":"Actualiza la información de un área existente mediante operación parcial (PATCH).\n    **Solo puede actualizar áreas de su mismo cliente**.\n    \n    **Permisos requeridos:**\n    - Rol 'Administrador'\n    \n    **Parámetros de ruta:**\n    - area_id: ID numérico del área a actualizar\n    \n    **Validaciones:**\n    - Al menos un campo debe ser proporcionado para actualizar\n    - Si se actualiza el nombre, debe mantenerse único **dentro del cliente**\n    \n    **Respuestas:**\n    - 200: Área actualizada exitosamente\n    - 400: Cuerpo de solicitud vacío\n    - 403: Acceso denegado (área de otro cliente)\n    - 404: Área no encontrada\n    - 409: Conflicto - Nuevo nombre ya existe **en el cliente**\n    - 422: Error de validación en los datos\n    - 500: Error interno del servidor","operationId":"actualizar_area_endpoint_api_v1_areas__area_id___put","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"area_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","description":"ID del área","title":"Area Id"},"description":"ID del área"}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/AreaUpdate"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/AreaRead"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"delete":{"tags":["Áreas de Menú"],"summary":"Desactivar un área (Borrado Lógico)","description":"Desactiva un área estableciendo su estado 'es_activo' a False (borrado lógico).\n    **Solo puede desactivar áreas de su mismo cliente**.\n    \n    **Permisos requeridos:**\n    - Rol 'Administrador'\n    \n    **Parámetros de ruta:**\n    - area_id: ID numérico del área a desactivar\n    \n    **Notas:**\n    - Operación reversible (usar endpoint de reactivación)\n    - No elimina físicamente el registro\n    \n    **Respuestas:**\n    - 200: Área desactivada exitosamente\n    - 403: Acceso denegado (área de otro cliente)\n    - 404: Área no encontrada\n    - 400: Área ya está desactivada\n    - 500: Error interno del servidor","operationId":"desactivar_area_endpoint_api_v1_areas__area_id___delete","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"area_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","description":"ID del área","title":"Area Id"},"description":"ID del área"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/AreaRead"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/areas/{area_id}/reactivate/":{"put":{"tags":["Áreas de Menú"],"summary":"Reactivar un área desactivada","description":"Reactiva un área previamente desactivada estableciendo 'es_activo' a True.\n    **Solo puede reactivar áreas de su mismo cliente**.\n    \n    **Permisos requeridos:**\n    - Rol 'Administrador'\n    \n    **Parámetros de ruta:**\n    - area_id: ID numérico del área a reactivar\n    \n    **Respuestas:**\n    - 200: Área reactivada exitosamente\n    - 403: Acceso denegado (área de otro cliente)\n    - 404: Área no encontrada\n    - 400: Área ya está activa\n    - 500: Error interno del servidor","operationId":"reactivar_area_endpoint_api_v1_areas__area_id__reactivate__put","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"area_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","description":"ID del área","title":"Area Id"},"description":"ID del área"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/AreaRead"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/superadmin/usuarios/":{"get":{"tags":["Usuarios (Super Admin)"],"summary":"Listado global de usuarios (Superadmin)","description":"Recupera una lista paginada de usuarios de todos los clientes.\n    \n    **Permisos requeridos:**\n    - Nivel de acceso 5 (Super Administrador)\n    \n    **Parámetros de consulta:**\n    - cliente_id (opcional): Filtrar por cliente específico. Si no se proporciona, muestra usuarios de todos los clientes.\n    - page: Número de página a mostrar (comienza en 1)\n    - limit: Número máximo de usuarios por página (1-100)\n    - search: Término opcional para buscar en nombre, apellido, correo o nombre_usuario\n    - es_activo: Filtrar por estado activo/inactivo\n    - proveedor_autenticacion: Filtrar por método de autenticación\n    - ordenar_por: Campo para ordenar (fecha_creacion, fecha_ultimo_acceso, nombre_usuario)\n    - orden: 'asc' o 'desc' (default: 'desc')\n    \n    **Respuestas:**\n    - 200: Lista paginada recuperada exitosamente\n    - 403: Acceso denegado - se requiere nivel de super administrador\n    - 422: Parámetros de consulta inválidos\n    - 500: Error interno del servidor","operationId":"list_usuarios_global_api_v1_superadmin_usuarios__get","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"cliente_id","in":"query","required":false,"schema":{"anyOf":[{"type":"integer"},{"type":"null"}],"description":"Filtrar por cliente específico (opcional)","title":"Cliente Id"},"description":"Filtrar por cliente específico (opcional)"},{"name":"page","in":"query","required":false,"schema":{"type":"integer","minimum":1,"description":"Número de página a mostrar","default":1,"title":"Page"},"description":"Número de página a mostrar"},{"name":"limit","in":"query","required":false,"schema":{"type":"integer","maximum":100,"minimum":1,"description":"Número de usuarios por página","default":20,"title":"Limit"},"description":"Número de usuarios por página"},{"name":"search","in":"query","required":false,"schema":{"anyOf":[{"type":"string","minLength":1,"maxLength":50},{"type":"null"}],"description":"Término de búsqueda opcional","title":"Search"},"description":"Término de búsqueda opcional"},{"name":"es_activo","in":"query","required":false,"schema":{"anyOf":[{"type":"boolean"},{"type":"null"}],"description":"Filtrar por estado activo/inactivo","title":"Es Activo"},"description":"Filtrar por estado activo/inactivo"},{"name":"proveedor_autenticacion","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Filtrar por método de autenticación","title":"Proveedor Autenticacion"},"description":"Filtrar por método de autenticación"},{"name":"ordenar_por","in":"query","required":false,"schema":{"type":"string","description":"Campo para ordenar","default":"fecha_creacion","title":"Ordenar Por"},"description":"Campo para ordenar"},{"name":"orden","in":"query","required":false,"schema":{"type":"string","description":"Orden: 'asc' o 'desc'","default":"desc","title":"Orden"},"description":"Orden: 'asc' o 'desc'"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/PaginatedUsuarioSuperadminResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/superadmin/usuarios/{usuario_id}/":{"get":{"tags":["Usuarios (Super Admin)"],"summary":"Obtener detalle de usuario (Superadmin)","description":"Recupera los detalles completos de un usuario específico (Superadmin puede ver usuarios de cualquier cliente).\n    \n    **Permisos requeridos:**\n    - Nivel de acceso 5 (Super Administrador)\n    \n    **Parámetros de ruta:**\n    - usuario_id: ID numérico del usuario a consultar\n    \n    **Parámetros de consulta:**\n    - cliente_id (opcional): Filtrar por cliente específico. Si se proporciona, consulta directamente en la BD de ese tenant.\n    \n    **Respuestas:**\n    - 200: Usuario encontrado y devuelto\n    - 403: Acceso denegado - se requiere nivel de super administrador\n    - 404: Usuario no encontrado\n    - 500: Error interno del servidor","operationId":"read_usuario_superadmin_api_v1_superadmin_usuarios__usuario_id___get","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"usuario_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","description":"ID del usuario","title":"Usuario Id"},"description":"ID del usuario"},{"name":"cliente_id","in":"query","required":false,"schema":{"anyOf":[{"type":"string","format":"uuid"},{"type":"null"}],"description":"Filtrar por cliente específico (opcional)","title":"Cliente Id"},"description":"Filtrar por cliente específico (opcional)"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UsuarioSuperadminRead"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/superadmin/usuarios/{usuario_id}/actividad/":{"get":{"tags":["Usuarios (Super Admin)"],"summary":"Obtener actividad de usuario (Superadmin)","description":"Recupera la actividad reciente de un usuario específico.\n    \n    **Permisos requeridos:**\n    - Nivel de acceso 5 (Super Administrador)\n    \n    **Parámetros de ruta:**\n    - usuario_id: ID numérico del usuario\n    \n    **Parámetros de query:**\n    - cliente_id (opcional): Filtrar por cliente específico. Si se proporciona, consulta directamente en la BD de ese tenant.\n    - limite: Número de eventos a retornar (1-200, default: 50)\n    - tipo_evento: Filtrar por tipo de evento (opcional)\n    \n    **Respuestas:**\n    - 200: Actividad recuperada exitosamente\n    - 403: Acceso denegado\n    - 404: Usuario no encontrado\n    - 500: Error interno del servidor","operationId":"read_usuario_actividad_api_v1_superadmin_usuarios__usuario_id__actividad__get","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"usuario_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","description":"ID del usuario","title":"Usuario Id"},"description":"ID del usuario"},{"name":"cliente_id","in":"query","required":false,"schema":{"anyOf":[{"type":"string","format":"uuid"},{"type":"null"}],"description":"Filtrar por cliente específico (opcional)","title":"Cliente Id"},"description":"Filtrar por cliente específico (opcional)"},{"name":"limite","in":"query","required":false,"schema":{"type":"integer","maximum":200,"minimum":1,"description":"Número de eventos a retornar","default":50,"title":"Limite"},"description":"Número de eventos a retornar"},{"name":"tipo_evento","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Filtrar por tipo de evento","title":"Tipo Evento"},"description":"Filtrar por tipo de evento"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UsuarioActividadResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/superadmin/usuarios/{usuario_id}/sesiones/":{"get":{"tags":["Usuarios (Super Admin)"],"summary":"Obtener sesiones de usuario (Superadmin)","description":"Recupera las sesiones activas de un usuario específico.\n    \n    **Permisos requeridos:**\n    - Nivel de acceso 5 (Super Administrador)\n    \n    **Parámetros de ruta:**\n    - usuario_id: ID numérico del usuario\n    \n    **Parámetros de query:**\n    - cliente_id (opcional): Filtrar por cliente específico. Si se proporciona, consulta directamente en la BD de ese tenant.\n    - solo_activas: Si solo mostrar sesiones activas (default: true)\n    \n    **Respuestas:**\n    - 200: Sesiones recuperadas exitosamente\n    - 403: Acceso denegado\n    - 404: Usuario no encontrado\n    - 500: Error interno del servidor","operationId":"read_usuario_sesiones_api_v1_superadmin_usuarios__usuario_id__sesiones__get","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"usuario_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","description":"ID del usuario","title":"Usuario Id"},"description":"ID del usuario"},{"name":"cliente_id","in":"query","required":false,"schema":{"anyOf":[{"type":"string","format":"uuid"},{"type":"null"}],"description":"Filtrar por cliente específico (opcional)","title":"Cliente Id"},"description":"Filtrar por cliente específico (opcional)"},{"name":"solo_activas","in":"query","required":false,"schema":{"type":"boolean","description":"Solo mostrar sesiones activas","default":true,"title":"Solo Activas"},"description":"Solo mostrar sesiones activas"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UsuarioSesionesResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/superadmin/usuarios/clientes/{cliente_id}/usuarios/":{"get":{"tags":["Usuarios (Super Admin)"],"summary":"Listar usuarios de un cliente específico (Superadmin)","description":"Recupera una lista paginada de usuarios de un cliente específico.\n    \n    **Permisos requeridos:**\n    - Nivel de acceso 5 (Super Administrador)\n    \n    **Parámetros de ruta:**\n    - cliente_id: ID del cliente\n    \n    **Parámetros de consulta:**\n    - page: Número de página a mostrar\n    - limit: Número máximo de usuarios por página\n    - search: Término opcional para buscar\n    - es_activo: Filtrar por estado activo/inactivo\n    \n    **Respuestas:**\n    - 200: Lista paginada recuperada exitosamente\n    - 403: Acceso denegado\n    - 404: Cliente no encontrado\n    - 500: Error interno del servidor","operationId":"list_usuarios_por_cliente_api_v1_superadmin_usuarios_clientes__cliente_id__usuarios__get","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"cliente_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","description":"ID del cliente","title":"Cliente Id"},"description":"ID del cliente"},{"name":"page","in":"query","required":false,"schema":{"type":"integer","minimum":1,"description":"Número de página a mostrar","default":1,"title":"Page"},"description":"Número de página a mostrar"},{"name":"limit","in":"query","required":false,"schema":{"type":"integer","maximum":100,"minimum":1,"description":"Número de usuarios por página","default":20,"title":"Limit"},"description":"Número de usuarios por página"},{"name":"search","in":"query","required":false,"schema":{"anyOf":[{"type":"string","minLength":1,"maxLength":50},{"type":"null"}],"description":"Término de búsqueda opcional","title":"Search"},"description":"Término de búsqueda opcional"},{"name":"es_activo","in":"query","required":false,"schema":{"anyOf":[{"type":"boolean"},{"type":"null"}],"description":"Filtrar por estado activo/inactivo","title":"Es Activo"},"description":"Filtrar por estado activo/inactivo"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/PaginatedUsuarioSuperadminResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/superadmin/auditoria/autenticacion/":{"get":{"tags":["Auditoría (Super Admin)"],"summary":"Listar logs de autenticación (Superadmin)","description":"Recupera una lista paginada de logs de autenticación con filtros avanzados.\n    \n    **Permisos requeridos:**\n    - Nivel de acceso 5 (Super Administrador)\n    \n    **Parámetros de consulta:**\n    - cliente_id (opcional): Filtrar por cliente específico. Si no se proporciona, muestra logs de todos los clientes.\n    - usuario_id (opcional): Filtrar por usuario específico\n    - evento (opcional): Filtrar por tipo de evento (login_success, login_failed, etc.)\n    - exito (opcional): Filtrar por éxito/fallo\n    - fecha_desde (opcional): Fecha inicial\n    - fecha_hasta (opcional): Fecha final\n    - ip_address (opcional): Filtrar por IP\n    - page: Número de página (default: 1)\n    - limit: Registros por página (default: 50, max: 200)\n    - ordenar_por: Campo para ordenar (default: fecha_evento)\n    - orden: 'asc' o 'desc' (default: 'desc')\n    \n    **Respuestas:**\n    - 200: Lista paginada recuperada exitosamente\n    - 403: Acceso denegado\n    - 422: Parámetros inválidos\n    - 500: Error interno del servidor","operationId":"list_logs_autenticacion_api_v1_superadmin_auditoria_autenticacion__get","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"cliente_id","in":"query","required":false,"schema":{"anyOf":[{"type":"string","format":"uuid"},{"type":"null"}],"description":"Filtrar por cliente específico (opcional)","title":"Cliente Id"},"description":"Filtrar por cliente específico (opcional)"},{"name":"usuario_id","in":"query","required":false,"schema":{"anyOf":[{"type":"string","format":"uuid"},{"type":"null"}],"description":"Filtrar por usuario específico","title":"Usuario Id"},"description":"Filtrar por usuario específico"},{"name":"evento","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Filtrar por tipo de evento","title":"Evento"},"description":"Filtrar por tipo de evento"},{"name":"exito","in":"query","required":false,"schema":{"anyOf":[{"type":"boolean"},{"type":"null"}],"description":"Filtrar por éxito/fallo","title":"Exito"},"description":"Filtrar por éxito/fallo"},{"name":"fecha_desde","in":"query","required":false,"schema":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"description":"Fecha inicial","title":"Fecha Desde"},"description":"Fecha inicial"},{"name":"fecha_hasta","in":"query","required":false,"schema":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"description":"Fecha final","title":"Fecha Hasta"},"description":"Fecha final"},{"name":"ip_address","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Filtrar por IP","title":"Ip Address"},"description":"Filtrar por IP"},{"name":"page","in":"query","required":false,"schema":{"type":"integer","minimum":1,"description":"Número de página","default":1,"title":"Page"},"description":"Número de página"},{"name":"limit","in":"query","required":false,"schema":{"type":"integer","maximum":200,"minimum":1,"description":"Registros por página","default":50,"title":"Limit"},"description":"Registros por página"},{"name":"ordenar_por","in":"query","required":false,"schema":{"type":"string","description":"Campo para ordenar","default":"fecha_evento","title":"Ordenar Por"},"description":"Campo para ordenar"},{"name":"orden","in":"query","required":false,"schema":{"type":"string","description":"Orden: 'asc' o 'desc'","default":"desc","title":"Orden"},"description":"Orden: 'asc' o 'desc'"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/PaginatedAuthAuditLogResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/superadmin/auditoria/autenticacion/{log_id}/":{"get":{"tags":["Auditoría (Super Admin)"],"summary":"Obtener detalle de log de autenticación (Superadmin)","description":"Recupera el detalle completo de un log de autenticación específico.\n    \n    **Permisos requeridos:**\n    - Nivel de acceso 5 (Super Administrador)\n    \n    **Parámetros de ruta:**\n    - log_id: ID numérico del log\n    \n    **Parámetros de consulta:**\n    - cliente_id (opcional): Filtrar por cliente específico. Si se proporciona, consulta directamente en la BD de ese tenant.\n    \n    **Respuestas:**\n    - 200: Log encontrado y devuelto\n    - 403: Acceso denegado\n    - 404: Log no encontrado\n    - 500: Error interno del servidor","operationId":"read_log_autenticacion_api_v1_superadmin_auditoria_autenticacion__log_id___get","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"log_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","description":"ID del log","title":"Log Id"},"description":"ID del log"},{"name":"cliente_id","in":"query","required":false,"schema":{"anyOf":[{"type":"string","format":"uuid"},{"type":"null"}],"description":"Filtrar por cliente específico (opcional)","title":"Cliente Id"},"description":"Filtrar por cliente específico (opcional)"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/AuthAuditLogRead"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/superadmin/auditoria/sincronizacion/":{"get":{"tags":["Auditoría (Super Admin)"],"summary":"Listar logs de sincronización (Superadmin)","description":"Recupera una lista paginada de logs de sincronización entre instalaciones.\n    \n    **Permisos requeridos:**\n    - Nivel de acceso 5 (Super Administrador)\n    \n    **Parámetros de consulta:**\n    - cliente_origen_id (opcional): Filtrar por cliente origen\n    - cliente_destino_id (opcional): Filtrar por cliente destino\n    - usuario_id (opcional): Filtrar por usuario sincronizado\n    - tipo_sincronizacion (opcional): manual/push_auto/pull_auto/scheduled\n    - direccion (opcional): push/pull/bidireccional\n    - operacion (opcional): create/update/delete\n    - estado (opcional): exitoso/fallido/parcial/pendiente\n    - fecha_desde (opcional): Fecha inicial\n    - fecha_hasta (opcional): Fecha final\n    - page: Número de página (default: 1)\n    - limit: Registros por página (default: 50, max: 200)\n    - ordenar_por: Campo para ordenar (default: fecha_sincronizacion)\n    - orden: 'asc' o 'desc' (default: 'desc')\n    \n    **Respuestas:**\n    - 200: Lista paginada recuperada exitosamente\n    - 403: Acceso denegado\n    - 422: Parámetros inválidos\n    - 500: Error interno del servidor","operationId":"list_logs_sincronizacion_api_v1_superadmin_auditoria_sincronizacion__get","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"cliente_origen_id","in":"query","required":false,"schema":{"anyOf":[{"type":"string","format":"uuid"},{"type":"null"}],"description":"Filtrar por cliente origen","title":"Cliente Origen Id"},"description":"Filtrar por cliente origen"},{"name":"cliente_destino_id","in":"query","required":false,"schema":{"anyOf":[{"type":"string","format":"uuid"},{"type":"null"}],"description":"Filtrar por cliente destino","title":"Cliente Destino Id"},"description":"Filtrar por cliente destino"},{"name":"usuario_id","in":"query","required":false,"schema":{"anyOf":[{"type":"string","format":"uuid"},{"type":"null"}],"description":"Filtrar por usuario sincronizado","title":"Usuario Id"},"description":"Filtrar por usuario sincronizado"},{"name":"tipo_sincronizacion","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Tipo de sincronización","title":"Tipo Sincronizacion"},"description":"Tipo de sincronización"},{"name":"direccion","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Dirección (push/pull/bidireccional)","title":"Direccion"},"description":"Dirección (push/pull/bidireccional)"},{"name":"operacion","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Operación (create/update/delete)","title":"Operacion"},"description":"Operación (create/update/delete)"},{"name":"estado","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Estado (exitoso/fallido/parcial/pendiente)","title":"Estado"},"description":"Estado (exitoso/fallido/parcial/pendiente)"},{"name":"fecha_desde","in":"query","required":false,"schema":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"description":"Fecha inicial","title":"Fecha Desde"},"description":"Fecha inicial"},{"name":"fecha_hasta","in":"query","required":false,"schema":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"description":"Fecha final","title":"Fecha Hasta"},"description":"Fecha final"},{"name":"page","in":"query","required":false,"schema":{"type":"integer","minimum":1,"description":"Número de página","default":1,"title":"Page"},"description":"Número de página"},{"name":"limit","in":"query","required":false,"schema":{"type":"integer","maximum":200,"minimum":1,"description":"Registros por página","default":50,"title":"Limit"},"description":"Registros por página"},{"name":"ordenar_por","in":"query","required":false,"schema":{"type":"string","description":"Campo para ordenar","default":"fecha_sincronizacion","title":"Ordenar Por"},"description":"Campo para ordenar"},{"name":"orden","in":"query","required":false,"schema":{"type":"string","description":"Orden: 'asc' o 'desc'","default":"desc","title":"Orden"},"description":"Orden: 'asc' o 'desc'"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/PaginatedLogSincronizacionResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/superadmin/auditoria/estadisticas/":{"get":{"tags":["Auditoría (Super Admin)"],"summary":"Obtener estadísticas de auditoría (Superadmin)","description":"Recupera estadísticas agregadas de auditoría (autenticación y sincronización).\n    \n    **Permisos requeridos:**\n    - Nivel de acceso 5 (Super Administrador)\n    \n    **Parámetros de consulta:**\n    - cliente_id (opcional): Filtrar por cliente específico. Si no se proporciona, muestra estadísticas de todos los clientes.\n    - fecha_desde (opcional): Fecha inicial\n    - fecha_hasta (opcional): Fecha final\n    \n    **Respuestas:**\n    - 200: Estadísticas recuperadas exitosamente\n    - 403: Acceso denegado\n    - 422: Parámetros inválidos\n    - 500: Error interno del servidor","operationId":"get_estadisticas_auditoria_api_v1_superadmin_auditoria_estadisticas__get","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"cliente_id","in":"query","required":false,"schema":{"anyOf":[{"type":"string","format":"uuid"},{"type":"null"}],"description":"Filtrar por cliente específico (opcional)","title":"Cliente Id"},"description":"Filtrar por cliente específico (opcional)"},{"name":"fecha_desde","in":"query","required":false,"schema":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"description":"Fecha inicial","title":"Fecha Desde"},"description":"Fecha inicial"},{"name":"fecha_hasta","in":"query","required":false,"schema":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"description":"Fecha final","title":"Fecha Hasta"},"description":"Fecha final"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/AuditoriaEstadisticasResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/":{"get":{"summary":"Root","description":"Ruta raíz que muestra información básica de la API","operationId":"root__get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/health":{"get":{"summary":"Health Check","description":"Endpoint para verificar el estado de la aplicación y la conexión a la BD.\nPrueba la conexión utilizando el contexto del tenant (ID 1 si se accede por IP/localhost).","operationId":"health_check_health_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/api/test":{"get":{"summary":"Test Db","operationId":"test_db_api_test_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/drivers":{"get":{"summary":"Check Drivers","description":"Endpoint para verificar drivers ODBC disponibles","operationId":"check_drivers_drivers_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/debug-env":{"get":{"summary":"Debug Env","description":"Endpoint para verificar variables de entorno (sin mostrar passwords)","operationId":"debug_env_debug_env_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/debug-headers":{"get":{"summary":"Debug Headers","description":"Endpoint temporal para debug de headers","operationId":"debug_headers_debug_headers_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/debug-detailed":{"get":{"summary":"Debug Detailed","description":"Debug detallado de headers y detección de tenant","operationId":"debug_detailed_debug_detailed_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}}},"components":{"schemas":{"AreaCreate":{"properties":{"nombre":{"type":"string","maxLength":100,"minLength":1,"title":"Nombre","description":"Nombre único del área para identificación en el sistema","examples":["Administración","Procesos","Reportes","Configuración"]},"descripcion":{"anyOf":[{"type":"string","maxLength":255},{"type":"null"}],"title":"Descripcion","description":"Descripción detallada del propósito y contenido del área","examples":["Gestión de usuarios, roles y permisos del sistema","Procesos operativos y flujos de trabajo principales"]},"icono":{"anyOf":[{"type":"string","maxLength":50},{"type":"null"}],"title":"Icono","description":"Nombre del icono para representar el área en la interfaz","examples":["settings","dashboard","reports","users"]},"es_activo":{"type":"boolean","title":"Es Activo","description":"Indica si el área está activa y disponible para uso","default":true},"cliente_id":{"type":"string","format":"uuid","title":"Cliente Id","description":"ID del cliente al que pertenece el área (soporte Multi-Tenant, UUID)","examples":["550e8400-e29b-41d4-a716-446655440000"]}},"type":"object","required":["nombre","cliente_id"],"title":"AreaCreate","description":"Schema para la creación de nuevas áreas.\n\nRequiere que todos los campos obligatorios de AreaBase estén presentes,\nincluyendo cliente_id."},"AreaRead":{"properties":{"nombre":{"type":"string","maxLength":100,"minLength":1,"title":"Nombre","description":"Nombre único del área para identificación en el sistema","examples":["Administración","Procesos","Reportes","Configuración"]},"descripcion":{"anyOf":[{"type":"string","maxLength":255},{"type":"null"}],"title":"Descripcion","description":"Descripción detallada del propósito y contenido del área","examples":["Gestión de usuarios, roles y permisos del sistema","Procesos operativos y flujos de trabajo principales"]},"icono":{"anyOf":[{"type":"string","maxLength":50},{"type":"null"}],"title":"Icono","description":"Nombre del icono para representar el área en la interfaz","examples":["settings","dashboard","reports","users"]},"es_activo":{"type":"boolean","title":"Es Activo","description":"Indica si el área está activa y disponible para uso","default":true},"cliente_id":{"type":"string","format":"uuid","title":"Cliente Id","description":"ID del cliente al que pertenece el área (soporte Multi-Tenant, UUID)","examples":["550e8400-e29b-41d4-a716-446655440000"]},"area_id":{"type":"string","format":"uuid","title":"Area Id","description":"Identificador único del área en el sistema (UUID)"},"fecha_creacion":{"type":"string","format":"date-time","title":"Fecha Creacion","description":"Fecha y hora en que se creó el registro del área"}},"type":"object","required":["nombre","cliente_id","area_id","fecha_creacion"],"title":"AreaRead","description":"Schema para lectura de datos básicos de un área.\n\nIncluye todos los campos de AreaBase más metadatos del sistema\nque se generan automáticamente durante la creación del área."},"AreaSimpleList":{"properties":{"area_id":{"type":"string","format":"uuid","title":"Area Id","description":"Identificador único del área (UUID)"},"nombre":{"type":"string","title":"Nombre","description":"Nombre del área para mostrar en interfaces"},"cliente_id":{"type":"string","format":"uuid","title":"Cliente Id","description":"ID del cliente al que pertenece el área (UUID)"}},"type":"object","required":["area_id","nombre","cliente_id"],"title":"AreaSimpleList","description":"Schema simplificado para listas de áreas activas.\n\nUtilizado en endpoints que requieren listas desplegables o selectores\ndonde solo se necesitan los datos básicos de identificación."},"AreaUpdate":{"properties":{"nombre":{"anyOf":[{"type":"string","maxLength":100,"minLength":1},{"type":"null"}],"title":"Nombre","description":"Nuevo nombre del área (opcional)"},"descripcion":{"anyOf":[{"type":"string","maxLength":255},{"type":"null"}],"title":"Descripcion","description":"Nueva descripción del área (opcional)"},"icono":{"anyOf":[{"type":"string","maxLength":50},{"type":"null"}],"title":"Icono","description":"Nuevo icono del área (opcional)"},"es_activo":{"anyOf":[{"type":"boolean"},{"type":"null"}],"title":"Es Activo","description":"Nuevo estado activo/inactivo del área (opcional)"}},"type":"object","title":"AreaUpdate","description":"Schema para actualización parcial de áreas.\n\nTodos los campos son opcionales y solo se validan los que se proporcionen.\nEl cliente_id no es actualizable."},"AuditoriaEstadisticasResponse":{"properties":{"periodo":{"$ref":"#/components/schemas/PeriodoInfo","description":"Período de tiempo"},"autenticacion":{"$ref":"#/components/schemas/AutenticacionStats","description":"Estadísticas de autenticación"},"sincronizacion":{"$ref":"#/components/schemas/SincronizacionStats","description":"Estadísticas de sincronización"},"top_ips":{"anyOf":[{"items":{"$ref":"#/components/schemas/IPStats"},"type":"array"},{"type":"null"}],"title":"Top Ips","description":"Top IPs con más eventos"},"top_usuarios":{"anyOf":[{"items":{"$ref":"#/components/schemas/UsuarioStats"},"type":"array"},{"type":"null"}],"title":"Top Usuarios","description":"Top usuarios con más eventos"}},"type":"object","required":["periodo","autenticacion","sincronizacion"],"title":"AuditoriaEstadisticasResponse","description":"Estadísticas agregadas de auditoría."},"AutenticacionStats":{"properties":{"total_eventos":{"type":"integer","minimum":0.0,"title":"Total Eventos","description":"Total de eventos"},"login_exitosos":{"type":"integer","minimum":0.0,"title":"Login Exitosos","description":"Logins exitosos"},"login_fallidos":{"type":"integer","minimum":0.0,"title":"Login Fallidos","description":"Logins fallidos"},"eventos_por_tipo":{"additionalProperties":{"type":"integer"},"type":"object","title":"Eventos Por Tipo","description":"Eventos por tipo"}},"type":"object","required":["total_eventos","login_exitosos","login_fallidos"],"title":"AutenticacionStats","description":"Estadísticas de autenticación."},"AuthAuditLogRead":{"properties":{"log_id":{"type":"string","format":"uuid","title":"Log Id","description":"ID único del log (UUID)"},"cliente_id":{"type":"string","format":"uuid","title":"Cliente Id","description":"ID del cliente (UUID)"},"cliente":{"anyOf":[{"$ref":"#/components/schemas/ClienteInfo"},{"type":"null"}],"description":"Información del cliente"},"usuario_id":{"anyOf":[{"type":"string","format":"uuid"},{"type":"null"}],"title":"Usuario Id","description":"ID del usuario (NULL si evento anónimo) (UUID)"},"usuario":{"anyOf":[{"$ref":"#/components/schemas/UsuarioInfo"},{"type":"null"}],"description":"Información del usuario"},"evento":{"type":"string","title":"Evento","description":"Tipo de evento"},"nombre_usuario_intento":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Nombre Usuario Intento","description":"Usuario intentado (login fallido)"},"descripcion":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Descripcion","description":"Descripción del evento"},"exito":{"type":"boolean","title":"Exito","description":"Si el evento fue exitoso"},"codigo_error":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Codigo Error","description":"Código de error si aplica"},"ip_address":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Ip Address","description":"IP del evento"},"user_agent":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"User Agent","description":"User agent"},"device_info":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Device Info","description":"Información del dispositivo"},"geolocation":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Geolocation","description":"Geolocalización"},"metadata_json":{"anyOf":[{"type":"object"},{"type":"null"}],"title":"Metadata Json","description":"Metadata adicional (JSON parseado)"},"fecha_evento":{"type":"string","format":"date-time","title":"Fecha Evento","description":"Fecha y hora del evento"}},"type":"object","required":["log_id","cliente_id","evento","exito","fecha_evento"],"title":"AuthAuditLogRead","description":"Vista completa de un log de autenticación."},"AuthConfigRead":{"properties":{"password_min_length":{"type":"integer","title":"Password Min Length","description":"Longitud mínima de contraseña.","default":8},"password_require_uppercase":{"type":"boolean","title":"Password Require Uppercase","description":"Requiere al menos una letra mayúscula.","default":true},"password_require_lowercase":{"type":"boolean","title":"Password Require Lowercase","description":"Requiere al menos una letra minúscula.","default":true},"password_require_number":{"type":"boolean","title":"Password Require Number","description":"Requiere al menos un número.","default":true},"password_require_special":{"type":"boolean","title":"Password Require Special","description":"Requiere al menos un carácter especial (!@#$%^&*).","default":false},"password_expiry_days":{"type":"integer","title":"Password Expiry Days","description":"Días antes de expirar la contraseña (0 = nunca expira).","default":90},"password_history_count":{"type":"integer","title":"Password History Count","description":"Cuántas contraseñas previas recordar (no permitir reutilizar).","default":3},"max_login_attempts":{"type":"integer","title":"Max Login Attempts","description":"Máximo de intentos fallidos antes de bloquear.","default":5},"lockout_duration_minutes":{"type":"integer","title":"Lockout Duration Minutes","description":"Duración del bloqueo en minutos.","default":30},"max_active_sessions":{"type":"integer","title":"Max Active Sessions","description":"Máximo de sesiones simultáneas por usuario (0 = ilimitado).","default":3},"session_idle_timeout_minutes":{"type":"integer","title":"Session Idle Timeout Minutes","description":"Minutos de inactividad antes de cerrar sesión (0 = no expira).","default":60},"access_token_minutes":{"type":"integer","title":"Access Token Minutes","description":"Duración del access token en minutos.","default":15},"refresh_token_days":{"type":"integer","title":"Refresh Token Days","description":"Duración del refresh token en días.","default":30},"allow_remember_me":{"type":"boolean","title":"Allow Remember Me","description":"Permitir opción 'Recordar sesión'.","default":true},"remember_me_days":{"type":"integer","title":"Remember Me Days","description":"Duración de sesión si marca 'recordar' (en días).","default":30},"require_email_verification":{"type":"boolean","title":"Require Email Verification","description":"Requiere verificar email antes de primer login.","default":false},"allow_password_reset":{"type":"boolean","title":"Allow Password Reset","description":"Permitir recuperación de contraseña por email.","default":true},"enable_2fa":{"type":"boolean","title":"Enable 2Fa","description":"Habilitar 2FA para el cliente.","default":false},"require_2fa_for_admins":{"type":"boolean","title":"Require 2Fa For Admins","description":"Forzar 2FA para usuarios con rol admin.","default":false},"metodos_2fa_permitidos":{"type":"string","title":"Metodos 2Fa Permitidos","description":"Métodos permitidos separados por coma: 'email', 'sms', 'totp', 'app'.","default":"email,sms"},"ip_whitelist_enabled":{"type":"boolean","title":"Ip Whitelist Enabled","description":"Habilitar whitelist de IPs permitidas.","default":false},"ip_whitelist":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Ip Whitelist","description":"JSON array de IPs permitidas (ej: [\"192.168.1.0/24\", \"10.0.0.1\"])."},"ip_blacklist":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Ip Blacklist","description":"JSON array de IPs bloqueadas."},"horario_acceso_enabled":{"type":"boolean","title":"Horario Acceso Enabled","description":"Habilitar restricción por horarios.","default":false},"horario_acceso_config":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Horario Acceso Config","description":"JSON con horarios permitidos (ej: {\"lunes\": \"08:00-18:00\"})."},"config_id":{"type":"string","format":"uuid","title":"Config Id","description":"Identificador único de la configuración (UUID)."},"cliente_id":{"type":"string","format":"uuid","title":"Cliente Id","description":"ID del cliente dueño de esta configuración (UUID)."},"fecha_creacion":{"type":"string","format":"date-time","title":"Fecha Creacion","description":"Fecha de creación del registro."},"fecha_actualizacion":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Fecha Actualizacion","description":"Fecha de última actualización."}},"type":"object","required":["config_id","cliente_id","fecha_creacion"],"title":"AuthConfigRead","description":"Esquema de lectura completo de una configuración de autenticación.\nIncluye campos de identificación y auditoría generados por el sistema."},"AuthConfigUpdate":{"properties":{"password_min_length":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Password Min Length"},"password_require_uppercase":{"anyOf":[{"type":"boolean"},{"type":"null"}],"title":"Password Require Uppercase"},"password_require_lowercase":{"anyOf":[{"type":"boolean"},{"type":"null"}],"title":"Password Require Lowercase"},"password_require_number":{"anyOf":[{"type":"boolean"},{"type":"null"}],"title":"Password Require Number"},"password_require_special":{"anyOf":[{"type":"boolean"},{"type":"null"}],"title":"Password Require Special"},"password_expiry_days":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Password Expiry Days"},"password_history_count":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Password History Count"},"max_login_attempts":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Max Login Attempts"},"lockout_duration_minutes":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Lockout Duration Minutes"},"max_active_sessions":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Max Active Sessions"},"session_idle_timeout_minutes":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Session Idle Timeout Minutes"},"access_token_minutes":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Access Token Minutes"},"refresh_token_days":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Refresh Token Days"},"allow_remember_me":{"anyOf":[{"type":"boolean"},{"type":"null"}],"title":"Allow Remember Me"},"remember_me_days":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Remember Me Days"},"require_email_verification":{"anyOf":[{"type":"boolean"},{"type":"null"}],"title":"Require Email Verification"},"allow_password_reset":{"anyOf":[{"type":"boolean"},{"type":"null"}],"title":"Allow Password Reset"},"enable_2fa":{"anyOf":[{"type":"boolean"},{"type":"null"}],"title":"Enable 2Fa"},"require_2fa_for_admins":{"anyOf":[{"type":"boolean"},{"type":"null"}],"title":"Require 2Fa For Admins"},"metodos_2fa_permitidos":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Metodos 2Fa Permitidos"},"ip_whitelist_enabled":{"anyOf":[{"type":"boolean"},{"type":"null"}],"title":"Ip Whitelist Enabled"},"ip_whitelist":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Ip Whitelist"},"ip_blacklist":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Ip Blacklist"},"horario_acceso_enabled":{"anyOf":[{"type":"boolean"},{"type":"null"}],"title":"Horario Acceso Enabled"},"horario_acceso_config":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Horario Acceso Config"}},"type":"object","title":"AuthConfigUpdate","description":"Esquema para la actualización parcial de una configuración de autenticación.\nTodos los campos son opcionales para permitir actualizaciones incrementales."},"AzureADConfig":{"properties":{"nombre_configuracion":{"type":"string","title":"Nombre Configuracion"},"proveedor":{"type":"string","title":"Proveedor"},"es_activo":{"type":"boolean","title":"Es Activo","default":true},"es_metodo_principal":{"type":"boolean","title":"Es Metodo Principal","default":false},"client_id":{"type":"string","title":"Client Id"},"tenant_id":{"type":"string","title":"Tenant Id"}},"type":"object","required":["nombre_configuracion","proveedor","client_id","tenant_id"],"title":"AzureADConfig"},"Body_activar_modulo_completo_api_v1_modulos_clientes__cliente_id__modulos__modulo_id__activar_completo__post":{"properties":{"activacion_data":{"$ref":"#/components/schemas/ModuloActivoCreate"},"conexion_data":{"anyOf":[{"$ref":"#/components/schemas/ConexionCreate"},{"type":"null"}]}},"type":"object","required":["activacion_data"],"title":"Body_activar_modulo_completo_api_v1_modulos_clientes__cliente_id__modulos__modulo_id__activar_completo__post"},"Body_login_api_v1_auth_login__post":{"properties":{"grant_type":{"anyOf":[{"type":"string","pattern":"password"},{"type":"null"}],"title":"Grant Type"},"username":{"type":"string","title":"Username"},"password":{"type":"string","title":"Password"},"scope":{"type":"string","title":"Scope","default":""},"client_id":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Client Id"},"client_secret":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Client Secret"}},"type":"object","required":["username","password"],"title":"Body_login_api_v1_auth_login__post"},"Body_sso_azure_login_api_v1_auth_sso_azure__post":{"properties":{"id_token":{"type":"string","title":"Id Token"},"cliente_id":{"anyOf":[{"type":"string","format":"uuid"},{"type":"null"}],"title":"Cliente Id"},"subdominio":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Subdominio"}},"type":"object","required":["id_token"],"title":"Body_sso_azure_login_api_v1_auth_sso_azure__post"},"Body_sso_google_login_api_v1_auth_sso_google__post":{"properties":{"id_token":{"type":"string","title":"Id Token"},"cliente_id":{"anyOf":[{"type":"string","format":"uuid"},{"type":"null"}],"title":"Cliente Id"},"subdominio":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Subdominio"}},"type":"object","required":["id_token"],"title":"Body_sso_google_login_api_v1_auth_sso_google__post"},"BrandingRead":{"properties":{"logo_url":{"anyOf":[{"type":"string","maxLength":500},{"type":"null"}],"title":"Logo Url","description":"URL pública del logo del cliente"},"favicon_url":{"anyOf":[{"type":"string","maxLength":500},{"type":"null"}],"title":"Favicon Url","description":"URL del favicon personalizado"},"color_primario":{"type":"string","title":"Color Primario","description":"Color principal en formato HEX (#RRGGBB)","default":"#1976D2"},"color_secundario":{"type":"string","title":"Color Secundario","description":"Color secundario en formato HEX","default":"#424242"},"tema_personalizado":{"anyOf":[{"type":"object"},{"type":"null"}],"title":"Tema Personalizado","description":"Configuración avanzada de tema (JSON parseado como objeto)"}},"type":"object","title":"BrandingRead","description":"Schema de respuesta para configuración de branding del tenant.\nContiene solo los campos visuales necesarios para el frontend.\n\nEste schema se utiliza en el endpoint GET /api/v1/clientes/tenant/branding\npara exponer la configuración de personalización visual del cliente actual."},"ClienteCreate":{"properties":{"codigo_cliente":{"type":"string","maxLength":20,"title":"Codigo Cliente","description":"Código corto único para identificar al cliente (ej: 'CLI001', 'ACME')."},"subdominio":{"type":"string","maxLength":63,"title":"Subdominio","description":"Subdominio único para acceso web (ej: 'acme' → acme.tuapp.com)."},"razon_social":{"type":"string","maxLength":200,"title":"Razon Social","description":"Nombre legal completo de la empresa."},"nombre_comercial":{"anyOf":[{"type":"string","maxLength":150},{"type":"null"}],"title":"Nombre Comercial","description":"Nombre corto para mostrar en la UI."},"ruc":{"anyOf":[{"type":"string","maxLength":11},{"type":"null"}],"title":"Ruc","description":"RUC del cliente (11 dígitos)."},"tipo_instalacion":{"type":"string","title":"Tipo Instalacion","description":"Tipo de instalación: 'shared' (BD centralizada), 'dedicated' (BD dedicada), 'onpremise' (BD local), 'hybrid' (BD local + sincronización).","default":"shared"},"servidor_api_local":{"anyOf":[{"type":"string","maxLength":255},{"type":"null"}],"title":"Servidor Api Local","description":"URL del API si el cliente tiene instalación local."},"modo_autenticacion":{"type":"string","title":"Modo Autenticacion","description":"Modo de autenticación: 'local', 'sso', 'hybrid'.","default":"local"},"logo_url":{"anyOf":[{"type":"string","maxLength":500},{"type":"null"}],"title":"Logo Url","description":"URL pública del logo del cliente."},"favicon_url":{"anyOf":[{"type":"string","maxLength":500},{"type":"null"}],"title":"Favicon Url","description":"URL del favicon personalizado."},"color_primario":{"type":"string","title":"Color Primario","description":"Color principal en formato HEX (#RRGGBB).","default":"#1976D2"},"color_secundario":{"type":"string","title":"Color Secundario","description":"Color secundario en formato HEX.","default":"#424242"},"tema_personalizado":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Tema Personalizado","description":"JSON con configuración avanzada de tema."},"plan_suscripcion":{"type":"string","title":"Plan Suscripcion","description":"Plan contratado: 'trial', 'basico', 'profesional', 'enterprise'.","default":"trial"},"estado_suscripcion":{"type":"string","title":"Estado Suscripcion","description":"Estado actual: 'trial', 'activo', 'suspendido', 'cancelado', 'moroso'.","default":"activo"},"fecha_inicio_suscripcion":{"anyOf":[{"type":"string","format":"date"},{"type":"null"}],"title":"Fecha Inicio Suscripcion","description":"Fecha de inicio de la suscripción pagada."},"fecha_fin_trial":{"anyOf":[{"type":"string","format":"date"},{"type":"null"}],"title":"Fecha Fin Trial","description":"Fecha de fin del periodo de prueba."},"contacto_nombre":{"anyOf":[{"type":"string","maxLength":100},{"type":"null"}],"title":"Contacto Nombre","description":"Nombre del contacto administrativo."},"contacto_email":{"type":"string","title":"Contacto Email","description":"Email del administrador principal (REQUERIDO)."},"contacto_telefono":{"anyOf":[{"type":"string","maxLength":20},{"type":"null"}],"title":"Contacto Telefono","description":"Teléfono de contacto."},"es_activo":{"type":"boolean","title":"Es Activo","description":"Si está inactivo, bloquea acceso a todos los usuarios del cliente.","default":true},"es_demo":{"type":"boolean","title":"Es Demo","description":"Marca clientes de demostración (datos de prueba).","default":false},"metadata_json":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Metadata Json","description":"JSON para configuraciones custom sin alterar schema."},"api_key_sincronizacion":{"anyOf":[{"type":"string","maxLength":255},{"type":"null"}],"title":"Api Key Sincronizacion","description":"API Key para sincronización con servidor central (multi-instalación)."},"sincronizacion_habilitada":{"type":"boolean","title":"Sincronizacion Habilitada","description":"Habilita sincronización bidireccional con servidor central.","default":false},"ultima_sincronizacion":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Ultima Sincronizacion","description":"Última fecha y hora de sincronización con servidor central."}},"type":"object","required":["codigo_cliente","subdominio","razon_social","contacto_email"],"title":"ClienteCreate","description":"Esquema para la creación de un nuevo cliente. Hereda todos los campos de ClienteBase."},"ClienteDeleteResponse":{"properties":{"success":{"type":"boolean","title":"Success","description":"Indica si la eliminación fue exitosa","default":true},"message":{"type":"string","title":"Message","description":"Mensaje descriptivo"},"cliente_id":{"type":"string","format":"uuid","title":"Cliente Id","description":"ID del cliente eliminado (UUID)"}},"type":"object","required":["message","cliente_id"],"title":"ClienteDeleteResponse","description":"Schema para respuesta de eliminación de cliente."},"ClienteInfo":{"properties":{"cliente_id":{"type":"string","format":"uuid","title":"Cliente Id","description":"ID único del cliente (UUID)"},"razon_social":{"type":"string","title":"Razon Social","description":"Razón social del cliente"},"subdominio":{"type":"string","title":"Subdominio","description":"Subdominio único del cliente"},"codigo_cliente":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Codigo Cliente","description":"Código del cliente"},"nombre_comercial":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Nombre Comercial","description":"Nombre comercial"},"tipo_instalacion":{"type":"string","title":"Tipo Instalacion","description":"Tipo de instalación","default":"cloud"},"estado_suscripcion":{"type":"string","title":"Estado Suscripcion","description":"Estado de suscripción","default":"activo"}},"type":"object","required":["cliente_id","razon_social","subdominio"],"title":"ClienteInfo","description":"Información básica del cliente para incluir en respuestas de usuarios.\nVersión ligera de ClienteRead para evitar sobrecargar respuestas."},"ClienteRead":{"properties":{"codigo_cliente":{"type":"string","maxLength":20,"title":"Codigo Cliente","description":"Código corto único para identificar al cliente (ej: 'CLI001', 'ACME')."},"subdominio":{"type":"string","maxLength":63,"title":"Subdominio","description":"Subdominio único para acceso web (ej: 'acme' → acme.tuapp.com)."},"razon_social":{"type":"string","maxLength":200,"title":"Razon Social","description":"Nombre legal completo de la empresa."},"nombre_comercial":{"anyOf":[{"type":"string","maxLength":150},{"type":"null"}],"title":"Nombre Comercial","description":"Nombre corto para mostrar en la UI."},"ruc":{"anyOf":[{"type":"string","maxLength":11},{"type":"null"}],"title":"Ruc","description":"RUC del cliente (11 dígitos)."},"tipo_instalacion":{"type":"string","title":"Tipo Instalacion","description":"Tipo de instalación: 'shared' (BD centralizada), 'dedicated' (BD dedicada), 'onpremise' (BD local), 'hybrid' (BD local + sincronización).","default":"shared"},"servidor_api_local":{"anyOf":[{"type":"string","maxLength":255},{"type":"null"}],"title":"Servidor Api Local","description":"URL del API si el cliente tiene instalación local."},"modo_autenticacion":{"type":"string","title":"Modo Autenticacion","description":"Modo de autenticación: 'local', 'sso', 'hybrid'.","default":"local"},"logo_url":{"anyOf":[{"type":"string","maxLength":500},{"type":"null"}],"title":"Logo Url","description":"URL pública del logo del cliente."},"favicon_url":{"anyOf":[{"type":"string","maxLength":500},{"type":"null"}],"title":"Favicon Url","description":"URL del favicon personalizado."},"color_primario":{"type":"string","title":"Color Primario","description":"Color principal en formato HEX (#RRGGBB).","default":"#1976D2"},"color_secundario":{"type":"string","title":"Color Secundario","description":"Color secundario en formato HEX.","default":"#424242"},"tema_personalizado":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Tema Personalizado","description":"JSON con configuración avanzada de tema."},"plan_suscripcion":{"type":"string","title":"Plan Suscripcion","description":"Plan contratado: 'trial', 'basico', 'profesional', 'enterprise'.","default":"trial"},"estado_suscripcion":{"type":"string","title":"Estado Suscripcion","description":"Estado actual: 'trial', 'activo', 'suspendido', 'cancelado', 'moroso'.","default":"activo"},"fecha_inicio_suscripcion":{"anyOf":[{"type":"string","format":"date"},{"type":"null"}],"title":"Fecha Inicio Suscripcion","description":"Fecha de inicio de la suscripción pagada."},"fecha_fin_trial":{"anyOf":[{"type":"string","format":"date"},{"type":"null"}],"title":"Fecha Fin Trial","description":"Fecha de fin del periodo de prueba."},"contacto_nombre":{"anyOf":[{"type":"string","maxLength":100},{"type":"null"}],"title":"Contacto Nombre","description":"Nombre del contacto administrativo."},"contacto_email":{"type":"string","title":"Contacto Email","description":"Email del administrador principal (REQUERIDO)."},"contacto_telefono":{"anyOf":[{"type":"string","maxLength":20},{"type":"null"}],"title":"Contacto Telefono","description":"Teléfono de contacto."},"es_activo":{"type":"boolean","title":"Es Activo","description":"Si está inactivo, bloquea acceso a todos los usuarios del cliente.","default":true},"es_demo":{"type":"boolean","title":"Es Demo","description":"Marca clientes de demostración (datos de prueba).","default":false},"metadata_json":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Metadata Json","description":"JSON para configuraciones custom sin alterar schema."},"api_key_sincronizacion":{"anyOf":[{"type":"string","maxLength":255},{"type":"null"}],"title":"Api Key Sincronizacion","description":"API Key para sincronización con servidor central (multi-instalación)."},"sincronizacion_habilitada":{"type":"boolean","title":"Sincronizacion Habilitada","description":"Habilita sincronización bidireccional con servidor central.","default":false},"ultima_sincronizacion":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Ultima Sincronizacion","description":"Última fecha y hora de sincronización con servidor central."},"cliente_id":{"type":"string","format":"uuid","title":"Cliente Id","description":"Identificador único del cliente (UUID)."},"fecha_creacion":{"type":"string","format":"date-time","title":"Fecha Creacion","description":"Fecha de creación del registro."},"fecha_actualizacion":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Fecha Actualizacion","description":"Fecha de última actualización."},"fecha_ultimo_acceso":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Fecha Ultimo Acceso","description":"Última vez que un usuario accedió."}},"type":"object","required":["codigo_cliente","subdominio","razon_social","contacto_email","cliente_id","fecha_creacion"],"title":"ClienteRead","description":"Esquema de lectura completo de un cliente.\nIncluye los campos de auditoría generados por el sistema."},"ClienteResponse":{"properties":{"success":{"type":"boolean","title":"Success","description":"Indica si la operación fue exitosa","default":true},"message":{"type":"string","title":"Message","description":"Mensaje descriptivo de la operación"},"data":{"anyOf":[{"$ref":"#/components/schemas/ClienteRead"},{"type":"null"}],"description":"Datos del cliente (si aplica)"}},"type":"object","required":["message"],"title":"ClienteResponse","description":"Schema estándar para respuestas de operaciones exitosas sobre clientes."},"ClienteStatsResponse":{"properties":{"cliente_id":{"type":"string","format":"uuid","title":"Cliente Id","description":"ID del cliente (UUID)"},"razon_social":{"type":"string","title":"Razon Social","description":"Razón social del cliente"},"total_usuarios":{"type":"integer","minimum":0.0,"title":"Total Usuarios","description":"Total de usuarios activos"},"total_usuarios_inactivos":{"type":"integer","minimum":0.0,"title":"Total Usuarios Inactivos","description":"Total de usuarios inactivos"},"modulos_activos":{"type":"integer","minimum":0.0,"title":"Modulos Activos","description":"Número de módulos activos"},"modulos_contratados":{"type":"integer","minimum":0.0,"title":"Modulos Contratados","description":"Número de módulos contratados"},"ultimo_acceso":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Ultimo Acceso","description":"Última vez que un usuario accedió"},"estado_suscripcion":{"type":"string","title":"Estado Suscripcion","description":"Estado actual de la suscripción"},"plan_actual":{"type":"string","title":"Plan Actual","description":"Plan de suscripción actual"},"fecha_creacion":{"type":"string","format":"date-time","title":"Fecha Creacion","description":"Fecha de creación del cliente"},"dias_activo":{"type":"integer","minimum":0.0,"title":"Dias Activo","description":"Días desde la creación"},"conexiones_bd":{"type":"integer","minimum":0.0,"title":"Conexiones Bd","description":"Número de conexiones de BD configuradas"},"tipo_instalacion":{"type":"string","title":"Tipo Instalacion","description":"Tipo de instalación (shared/dedicated/onpremise/hybrid)"}},"type":"object","required":["cliente_id","razon_social","total_usuarios","total_usuarios_inactivos","modulos_activos","modulos_contratados","estado_suscripcion","plan_actual","fecha_creacion","dias_activo","conexiones_bd","tipo_instalacion"],"title":"ClienteStatsResponse","description":"Schema para estadísticas de un cliente."},"ClienteUpdate":{"properties":{"codigo_cliente":{"anyOf":[{"type":"string","maxLength":20},{"type":"null"}],"title":"Codigo Cliente"},"subdominio":{"anyOf":[{"type":"string","maxLength":63},{"type":"null"}],"title":"Subdominio"},"razon_social":{"anyOf":[{"type":"string","maxLength":200},{"type":"null"}],"title":"Razon Social"},"nombre_comercial":{"anyOf":[{"type":"string","maxLength":150},{"type":"null"}],"title":"Nombre Comercial"},"ruc":{"anyOf":[{"type":"string","maxLength":15},{"type":"null"}],"title":"Ruc"},"tipo_instalacion":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Tipo Instalacion"},"servidor_api_local":{"anyOf":[{"type":"string","maxLength":255},{"type":"null"}],"title":"Servidor Api Local"},"modo_autenticacion":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Modo Autenticacion"},"logo_url":{"anyOf":[{"type":"string","maxLength":500},{"type":"null"}],"title":"Logo Url"},"favicon_url":{"anyOf":[{"type":"string","maxLength":500},{"type":"null"}],"title":"Favicon Url"},"color_primario":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Color Primario"},"color_secundario":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Color Secundario"},"tema_personalizado":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Tema Personalizado"},"plan_suscripcion":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Plan Suscripcion"},"estado_suscripcion":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Estado Suscripcion"},"fecha_inicio_suscripcion":{"anyOf":[{"type":"string","format":"date"},{"type":"null"}],"title":"Fecha Inicio Suscripcion"},"fecha_fin_trial":{"anyOf":[{"type":"string","format":"date"},{"type":"null"}],"title":"Fecha Fin Trial"},"contacto_nombre":{"anyOf":[{"type":"string","maxLength":100},{"type":"null"}],"title":"Contacto Nombre"},"contacto_email":{"anyOf":[{"type":"string","format":"email"},{"type":"null"}],"title":"Contacto Email"},"contacto_telefono":{"anyOf":[{"type":"string","maxLength":20},{"type":"null"}],"title":"Contacto Telefono"},"es_activo":{"anyOf":[{"type":"boolean"},{"type":"null"}],"title":"Es Activo"},"es_demo":{"anyOf":[{"type":"boolean"},{"type":"null"}],"title":"Es Demo"},"metadata_json":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Metadata Json"},"api_key_sincronizacion":{"anyOf":[{"type":"string","maxLength":255},{"type":"null"}],"title":"Api Key Sincronizacion"},"sincronizacion_habilitada":{"anyOf":[{"type":"boolean"},{"type":"null"}],"title":"Sincronizacion Habilitada"},"ultima_sincronizacion":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Ultima Sincronizacion"}},"type":"object","title":"ClienteUpdate","description":"Esquema para la actualización parcial de un cliente.\nTodos los campos son opcionales."},"ConexionCreate":{"properties":{"cliente_id":{"type":"string","format":"uuid","title":"Cliente Id","description":"ID del cliente al que pertenece la conexión (UUID)."},"servidor":{"type":"string","maxLength":255,"title":"Servidor","description":"Nombre o IP del servidor de BD (ej: 'localhost', 'sql.azure.com')."},"puerto":{"type":"integer","title":"Puerto","description":"Puerto de conexión (1433 para SQL Server, 5432 para PostgreSQL, etc.).","default":1433},"nombre_bd":{"type":"string","maxLength":100,"title":"Nombre Bd","description":"Nombre de la base de datos (ej: 'bdpla_psf_web', 'produccion_2024')."},"tipo_bd":{"type":"string","title":"Tipo Bd","description":"Tipo de base de datos: 'sqlserver', 'postgresql', 'mysql', 'oracle'.","default":"sqlserver"},"usa_ssl":{"type":"boolean","title":"Usa Ssl","description":"Indica si la conexión usa SSL/TLS.","default":false},"timeout_segundos":{"type":"integer","title":"Timeout Segundos","description":"Timeout de conexión en segundos.","default":30},"max_pool_size":{"type":"integer","title":"Max Pool Size","description":"Tamaño máximo del connection pool.","default":100},"es_solo_lectura":{"type":"boolean","title":"Es Solo Lectura","description":"True = Conexión read-only (útil para réplicas).","default":false},"es_conexion_principal":{"type":"boolean","title":"Es Conexion Principal","description":"True = Es la conexión principal del cliente (solo una por cliente).","default":false},"usuario":{"type":"string","title":"Usuario","description":"Usuario de BD para encriptar."},"password":{"type":"string","title":"Password","description":"Password de BD para encriptar."}},"type":"object","required":["cliente_id","servidor","nombre_bd","usuario","password"],"title":"ConexionCreate","description":"Esquema para la creación de una nueva conexión de base de datos.\nIncluye campos para credenciales en texto plano que serán encriptadas."},"ConexionRead":{"properties":{"cliente_id":{"type":"string","format":"uuid","title":"Cliente Id","description":"ID del cliente al que pertenece la conexión (UUID)."},"servidor":{"type":"string","maxLength":255,"title":"Servidor","description":"Nombre o IP del servidor de BD (ej: 'localhost', 'sql.azure.com')."},"puerto":{"type":"integer","title":"Puerto","description":"Puerto de conexión (1433 para SQL Server, 5432 para PostgreSQL, etc.).","default":1433},"nombre_bd":{"type":"string","maxLength":100,"title":"Nombre Bd","description":"Nombre de la base de datos (ej: 'bdpla_psf_web', 'produccion_2024')."},"tipo_bd":{"type":"string","title":"Tipo Bd","description":"Tipo de base de datos: 'sqlserver', 'postgresql', 'mysql', 'oracle'.","default":"sqlserver"},"usa_ssl":{"type":"boolean","title":"Usa Ssl","description":"Indica si la conexión usa SSL/TLS.","default":false},"timeout_segundos":{"type":"integer","title":"Timeout Segundos","description":"Timeout de conexión en segundos.","default":30},"max_pool_size":{"type":"integer","title":"Max Pool Size","description":"Tamaño máximo del connection pool.","default":100},"es_solo_lectura":{"type":"boolean","title":"Es Solo Lectura","description":"True = Conexión read-only (útil para réplicas).","default":false},"es_conexion_principal":{"type":"boolean","title":"Es Conexion Principal","description":"True = Es la conexión principal del cliente (solo una por cliente).","default":false},"conexion_id":{"type":"string","format":"uuid","title":"Conexion Id","description":"Identificador único de la conexión (UUID)."},"usuario_encriptado":{"type":"string","title":"Usuario Encriptado","description":"Usuario de BD encriptado."},"password_encriptado":{"type":"string","title":"Password Encriptado","description":"Password de BD encriptado."},"connection_string_encriptado":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Connection String Encriptado","description":"Connection string completo encriptado."},"es_activo":{"type":"boolean","title":"Es Activo","description":"Indica si la conexión está activa."},"ultima_conexion_exitosa":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Ultima Conexion Exitosa","description":"Última vez que se conectó exitosamente."},"ultimo_error":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Ultimo Error","description":"Último mensaje de error de conexión."},"fecha_ultimo_error":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Fecha Ultimo Error","description":"Fecha del último error."},"fecha_creacion":{"type":"string","format":"date-time","title":"Fecha Creacion","description":"Fecha de creación del registro."},"fecha_actualizacion":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Fecha Actualizacion","description":"Fecha de última actualización."},"creado_por_usuario_id":{"anyOf":[{"type":"string","format":"uuid"},{"type":"null"}],"title":"Creado Por Usuario Id","description":"ID del usuario que creó la conexión (UUID)."}},"type":"object","required":["cliente_id","servidor","nombre_bd","conexion_id","usuario_encriptado","password_encriptado","es_activo","fecha_creacion"],"title":"ConexionRead","description":"Esquema de lectura completo de una conexión.\nIncluye campos de identificación, auditoría y estado de la conexión.\nLos campos de credenciales muestran versiones encriptadas."},"ConexionTest":{"properties":{"servidor":{"type":"string","maxLength":255,"title":"Servidor"},"puerto":{"type":"integer","title":"Puerto","default":1433},"nombre_bd":{"type":"string","maxLength":100,"title":"Nombre Bd"},"usuario":{"type":"string","title":"Usuario","description":"Usuario de BD para testing."},"password":{"type":"string","title":"Password","description":"Password de BD para testing."},"tipo_bd":{"type":"string","title":"Tipo Bd","default":"sqlserver"},"usa_ssl":{"type":"boolean","title":"Usa Ssl","default":false},"timeout_segundos":{"type":"integer","title":"Timeout Segundos","default":30}},"type":"object","required":["servidor","nombre_bd","usuario","password"],"title":"ConexionTest","description":"Esquema para testing de conectividad de una configuración de conexión.\nPermite probar conexiones sin guardarlas en la base de datos."},"ConexionUpdate":{"properties":{"servidor":{"anyOf":[{"type":"string","maxLength":255},{"type":"null"}],"title":"Servidor"},"puerto":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Puerto"},"nombre_bd":{"anyOf":[{"type":"string","maxLength":100},{"type":"null"}],"title":"Nombre Bd"},"usuario":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Usuario","description":"Nuevo usuario de BD (se encriptará)."},"password":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Password","description":"Nuevo password de BD (se encriptará)."},"tipo_bd":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Tipo Bd"},"usa_ssl":{"anyOf":[{"type":"boolean"},{"type":"null"}],"title":"Usa Ssl"},"timeout_segundos":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Timeout Segundos"},"max_pool_size":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Max Pool Size"},"es_solo_lectura":{"anyOf":[{"type":"boolean"},{"type":"null"}],"title":"Es Solo Lectura"},"es_conexion_principal":{"anyOf":[{"type":"boolean"},{"type":"null"}],"title":"Es Conexion Principal"},"es_activo":{"anyOf":[{"type":"boolean"},{"type":"null"}],"title":"Es Activo"}},"type":"object","title":"ConexionUpdate","description":"Esquema para la actualización parcial de una conexión.\nTodos los campos son opcionales, incluyendo credenciales."},"GoogleConfig":{"properties":{"nombre_configuracion":{"type":"string","title":"Nombre Configuracion"},"proveedor":{"type":"string","title":"Proveedor"},"es_activo":{"type":"boolean","title":"Es Activo","default":true},"es_metodo_principal":{"type":"boolean","title":"Es Metodo Principal","default":false},"client_id":{"type":"string","title":"Client Id"}},"type":"object","required":["nombre_configuracion","proveedor","client_id"],"title":"GoogleConfig"},"HTTPValidationError":{"properties":{"detail":{"items":{"$ref":"#/components/schemas/ValidationError"},"type":"array","title":"Detail"}},"type":"object","title":"HTTPValidationError"},"IPStats":{"properties":{"ip_address":{"type":"string","title":"Ip Address","description":"Dirección IP"},"total_eventos":{"type":"integer","minimum":0.0,"title":"Total Eventos","description":"Total de eventos"},"eventos_fallidos":{"type":"integer","minimum":0.0,"title":"Eventos Fallidos","description":"Eventos fallidos"}},"type":"object","required":["ip_address","total_eventos","eventos_fallidos"],"title":"IPStats","description":"Estadísticas por IP."},"LogSincronizacionRead":{"properties":{"log_id":{"type":"string","format":"uuid","title":"Log Id","description":"ID único del log (UUID)"},"cliente_origen_id":{"anyOf":[{"type":"string","format":"uuid"},{"type":"null"}],"title":"Cliente Origen Id","description":"ID del cliente origen (UUID)"},"cliente_origen":{"anyOf":[{"$ref":"#/components/schemas/ClienteInfo"},{"type":"null"}],"description":"Información del cliente origen"},"cliente_destino_id":{"anyOf":[{"type":"string","format":"uuid"},{"type":"null"}],"title":"Cliente Destino Id","description":"ID del cliente destino (UUID)"},"cliente_destino":{"anyOf":[{"$ref":"#/components/schemas/ClienteInfo"},{"type":"null"}],"description":"Información del cliente destino"},"usuario_id":{"type":"string","format":"uuid","title":"Usuario Id","description":"ID del usuario sincronizado (UUID)"},"usuario":{"anyOf":[{"$ref":"#/components/schemas/UsuarioInfo"},{"type":"null"}],"description":"Información del usuario"},"tipo_sincronizacion":{"type":"string","title":"Tipo Sincronizacion","description":"Tipo de sincronización"},"direccion":{"type":"string","title":"Direccion","description":"Dirección (push/pull/bidireccional)"},"operacion":{"type":"string","title":"Operacion","description":"Operación (create/update/delete)"},"estado":{"type":"string","title":"Estado","description":"Estado (exitoso/fallido/parcial/pendiente)"},"mensaje_error":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Mensaje Error","description":"Mensaje de error si falló"},"campos_sincronizados":{"anyOf":[{"items":{"type":"string"},"type":"array"},{"type":"null"}],"title":"Campos Sincronizados","description":"Campos sincronizados (JSON parseado)"},"cambios_detectados":{"anyOf":[{"type":"object"},{"type":"null"}],"title":"Cambios Detectados","description":"Cambios detectados (JSON parseado)"},"hash_antes":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Hash Antes","description":"Hash antes de sincronización"},"hash_despues":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Hash Despues","description":"Hash después de sincronización"},"fecha_sincronizacion":{"type":"string","format":"date-time","title":"Fecha Sincronizacion","description":"Fecha de sincronización"},"usuario_ejecutor_id":{"anyOf":[{"type":"string","format":"uuid"},{"type":"null"}],"title":"Usuario Ejecutor Id","description":"ID del usuario que ejecutó (UUID)"},"usuario_ejecutor":{"anyOf":[{"$ref":"#/components/schemas/UsuarioInfo"},{"type":"null"}],"description":"Información del usuario ejecutor"},"duracion_ms":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Duracion Ms","description":"Duración en milisegundos"}},"type":"object","required":["log_id","usuario_id","tipo_sincronizacion","direccion","operacion","estado","fecha_sincronizacion"],"title":"LogSincronizacionRead","description":"Vista completa de un log de sincronización."},"MenuCreate":{"properties":{"nombre":{"type":"string","maxLength":100,"minLength":1,"title":"Nombre","description":"Nombre único del menú para identificación en el sistema","examples":["Dashboard","Gestión de Usuarios","Reportes","Configuración"]},"icono":{"anyOf":[{"type":"string","maxLength":50},{"type":"null"}],"title":"Icono","description":"Nombre del icono para representar el menú en la interfaz","examples":["dashboard","users","reports","settings","folder"]},"ruta":{"anyOf":[{"type":"string","maxLength":255},{"type":"null"}],"title":"Ruta","description":"Ruta o URL a la que dirige el menú","examples":["/dashboard","/usuarios","/reportes/ventas"]},"padre_menu_id":{"anyOf":[{"type":"string","format":"uuid"},{"type":"null"}],"title":"Padre Menu Id","description":"ID del menú padre para crear estructuras jerárquicas (UUID)","examples":["550e8400-e29b-41d4-a716-446655440000"]},"orden":{"anyOf":[{"type":"integer","minimum":0.0},{"type":"null"}],"title":"Orden","description":"Orden de visualización dentro del mismo nivel","examples":[1,2,3,10,20]},"area_id":{"anyOf":[{"type":"string","format":"uuid"},{"type":"null"}],"title":"Area Id","description":"ID del área a la que pertenece el menú (UUID)","examples":["550e8400-e29b-41d4-a716-446655440000"]},"es_activo":{"type":"boolean","title":"Es Activo","description":"Indica si el menú está activo y disponible para uso","default":true},"cliente_id":{"type":"string","format":"uuid","title":"Cliente Id","description":"ID del cliente al que pertenece el menú (soporte Multi-Tenant, UUID)","examples":["550e8400-e29b-41d4-a716-446655440000"]}},"type":"object","required":["nombre","cliente_id"],"title":"MenuCreate","description":"Schema para la creación de nuevos menús.\n\nRequiere que todos los campos obligatorios de MenuBase estén presentes."},"MenuItem":{"properties":{"menu_id":{"type":"string","format":"uuid","title":"Menu Id","description":"Identificador único del menú en el sistema (UUID)","examples":["550e8400-e29b-41d4-a716-446655440000"]},"nombre":{"type":"string","title":"Nombre","description":"Nombre del menú para mostrar en la interfaz","examples":["Dashboard","Usuarios","Configuración"]},"icono":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Icono","description":"Icono asociado al menú","examples":["dashboard","users","settings"]},"ruta":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Ruta","description":"Ruta de navegación del menú","examples":["/dashboard","/usuarios","/configuracion"]},"orden":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Orden","description":"Orden de visualización","examples":[1,2,3]},"es_activo":{"type":"boolean","title":"Es Activo","description":"Indica si el menú está activo","examples":[true,false]},"area_id":{"anyOf":[{"type":"string","format":"uuid"},{"type":"null"}],"title":"Area Id","description":"ID del área a la que pertenece el menú (UUID)","examples":["550e8400-e29b-41d4-a716-446655440000"]},"area_nombre":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Area Nombre","description":"Nombre del área a la que pertenece el menú","examples":["Administración","Operaciones","Reportes"]},"level":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Level","description":"Nivel en la jerarquía del menú","examples":[1,2,3]},"children":{"items":{"$ref":"#/components/schemas/MenuItem"},"type":"array","title":"Children","description":"Lista de menús hijos (estructura jerárquica)"},"cliente_id":{"anyOf":[{"type":"string","format":"uuid"},{"type":"null"}],"title":"Cliente Id","description":"ID del cliente al que pertenece el menú (NULL para menús del sistema, UUID)","examples":["550e8400-e29b-41d4-a716-446655440000",null]}},"type":"object","required":["menu_id","nombre","es_activo"],"title":"MenuItem","description":"Schema para ítems de menú en estructuras jerárquicas.\n\nUtilizado para representar la estructura completa del menú\ncon relaciones padre-hijo para el frontend."},"MenuReadSingle":{"properties":{"nombre":{"type":"string","maxLength":100,"minLength":1,"title":"Nombre","description":"Nombre único del menú para identificación en el sistema","examples":["Dashboard","Gestión de Usuarios","Reportes","Configuración"]},"icono":{"anyOf":[{"type":"string","maxLength":50},{"type":"null"}],"title":"Icono","description":"Nombre del icono para representar el menú en la interfaz","examples":["dashboard","users","reports","settings","folder"]},"ruta":{"anyOf":[{"type":"string","maxLength":255},{"type":"null"}],"title":"Ruta","description":"Ruta o URL a la que dirige el menú","examples":["/dashboard","/usuarios","/reportes/ventas"]},"padre_menu_id":{"anyOf":[{"type":"string","format":"uuid"},{"type":"null"}],"title":"Padre Menu Id","description":"ID del menú padre para crear estructuras jerárquicas (UUID)","examples":["550e8400-e29b-41d4-a716-446655440000"]},"orden":{"anyOf":[{"type":"integer","minimum":0.0},{"type":"null"}],"title":"Orden","description":"Orden de visualización dentro del mismo nivel","examples":[1,2,3,10,20]},"area_id":{"anyOf":[{"type":"string","format":"uuid"},{"type":"null"}],"title":"Area Id","description":"ID del área a la que pertenece el menú (UUID)","examples":["550e8400-e29b-41d4-a716-446655440000"]},"es_activo":{"type":"boolean","title":"Es Activo","description":"Indica si el menú está activo y disponible para uso","default":true},"cliente_id":{"type":"string","format":"uuid","title":"Cliente Id","description":"ID del cliente al que pertenece el menú (soporte Multi-Tenant, UUID)","examples":["550e8400-e29b-41d4-a716-446655440000"]},"menu_id":{"type":"string","format":"uuid","title":"Menu Id","description":"Identificador único del menú en el sistema (UUID)","examples":["550e8400-e29b-41d4-a716-446655440000"]},"area_nombre":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Area Nombre","description":"Nombre del área a la que pertenece el menú","examples":["Administración","Operaciones","Reportes"]},"fecha_creacion":{"type":"string","format":"date-time","title":"Fecha Creacion","description":"Fecha y hora en que se creó el registro del menú"},"fecha_actualizacion":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Fecha Actualizacion","description":"Fecha y hora de la última actualización del menú"}},"type":"object","required":["nombre","cliente_id","menu_id","fecha_creacion"],"title":"MenuReadSingle","description":"Schema para lectura de datos completos de un menú individual.\n\nIncluye todos los campos de MenuBase más metadatos del sistema\ny relaciones expandidas para operaciones CRUD."},"MenuResponse":{"properties":{"menu":{"items":{"$ref":"#/components/schemas/MenuItem"},"type":"array","title":"Menu","description":"Lista de menús raíz con su estructura jerárquica completa"}},"type":"object","required":["menu"],"title":"MenuResponse","description":"Schema para respuestas de estructuras completas de menú.\n\nUtilizado en endpoints que devuelven la estructura jerárquica completa\ndel menú para un usuario o para administración."},"MenuUpdate":{"properties":{"nombre":{"anyOf":[{"type":"string","maxLength":100,"minLength":1},{"type":"null"}],"title":"Nombre","description":"Nuevo nombre del menú (opcional)"},"icono":{"anyOf":[{"type":"string","maxLength":50},{"type":"null"}],"title":"Icono","description":"Nuevo icono del menú (opcional)"},"ruta":{"anyOf":[{"type":"string","maxLength":255},{"type":"null"}],"title":"Ruta","description":"Nueva ruta del menú (opcional)"},"padre_menu_id":{"anyOf":[{"type":"string","format":"uuid"},{"type":"null"}],"title":"Padre Menu Id","description":"Nuevo ID del menú padre (opcional, UUID)"},"orden":{"anyOf":[{"type":"integer","minimum":0.0},{"type":"null"}],"title":"Orden","description":"Nuevo orden de visualización (opcional)"},"area_id":{"anyOf":[{"type":"string","format":"uuid"},{"type":"null"}],"title":"Area Id","description":"Nuevo ID del área (opcional, UUID)"},"es_activo":{"anyOf":[{"type":"boolean"},{"type":"null"}],"title":"Es Activo","description":"Nuevo estado activo/inactivo del menú (opcional)"}},"type":"object","title":"MenuUpdate","description":"Schema para actualización parcial de menús.\n\nTodos los campos son opcionales y solo se validan los que se proporcionen.\nEl cliente_id no es actualizable."},"ModuloActivoCreate":{"properties":{"cliente_id":{"type":"string","format":"uuid","title":"Cliente Id","description":"ID del cliente que activa el módulo (UUID)."},"modulo_id":{"type":"string","format":"uuid","title":"Modulo Id","description":"ID del módulo que se activa (UUID)."},"configuracion_json":{"anyOf":[{"type":"object"},{"type":"null"}],"title":"Configuracion Json","description":"JSON con configuraciones custom del módulo para este cliente."},"limite_usuarios":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Limite Usuarios","description":"Máximo de usuarios que pueden usar este módulo (NULL = ilimitado)."},"limite_registros":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Limite Registros","description":"Límite de registros para este módulo (NULL = ilimitado)."},"fecha_vencimiento":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Fecha Vencimiento","description":"Fecha de vencimiento de la licencia (NULL = ilimitado/permanente)."}},"type":"object","required":["cliente_id","modulo_id"],"title":"ModuloActivoCreate","description":"Esquema para la activación de un módulo para un cliente.\nHereda todos los campos de ModuloActivoBase."},"ModuloActivoUpdate":{"properties":{"configuracion_json":{"anyOf":[{"type":"object"},{"type":"null"}],"title":"Configuracion Json"},"limite_usuarios":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Limite Usuarios"},"limite_registros":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Limite Registros"},"fecha_vencimiento":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Fecha Vencimiento","description":"Nueva fecha de vencimiento de la licencia."},"esta_activo":{"anyOf":[{"type":"boolean"},{"type":"null"}],"title":"Esta Activo","description":"Cambiar estado de activación del módulo."}},"type":"object","title":"ModuloActivoUpdate","description":"Esquema para la actualización parcial de un módulo activo.\nPermite modificar configuraciones y límites sin cambiar el estado de activación."},"ModuloConInfoActivacion":{"properties":{"codigo_modulo":{"type":"string","maxLength":30,"title":"Codigo Modulo","description":"Código único para referencia en código (ej: 'PLANILLAS', 'CONTABILIDAD')."},"nombre":{"type":"string","maxLength":100,"title":"Nombre","description":"Nombre descriptivo del módulo."},"descripcion":{"anyOf":[{"type":"string","maxLength":255},{"type":"null"}],"title":"Descripcion","description":"Descripción detallada de la funcionalidad del módulo."},"icono":{"anyOf":[{"type":"string","maxLength":50},{"type":"null"}],"title":"Icono","description":"Nombre del icono representativo (depende de librería UI usada)."},"es_modulo_core":{"type":"boolean","title":"Es Modulo Core","description":"True = Módulo esencial del sistema (siempre disponible).","default":false},"requiere_licencia":{"type":"boolean","title":"Requiere Licencia","description":"True = Requiere licencia/pago adicional.","default":false},"orden":{"type":"integer","title":"Orden","description":"Orden de visualización en UI (menor = primero).","default":0},"es_activo":{"type":"boolean","title":"Es Activo","description":"Indica si el módulo está disponible para activación.","default":true},"modulo_id":{"type":"string","format":"uuid","title":"Modulo Id","description":"Identificador único del módulo (UUID)."},"fecha_creacion":{"type":"string","format":"date-time","title":"Fecha Creacion","description":"Fecha de creación del registro."},"activo_en_cliente":{"type":"boolean","title":"Activo En Cliente","description":"Indica si el módulo está activo para el cliente."},"cliente_modulo_activo_id":{"anyOf":[{"type":"string","format":"uuid"},{"type":"null"}],"title":"Cliente Modulo Activo Id","description":"ID del registro de activación (UUID)."},"fecha_activacion":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Fecha Activacion","description":"Fecha de activación para el cliente."},"fecha_vencimiento":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Fecha Vencimiento","description":"Fecha de vencimiento de la licencia (NULL = ilimitado)."},"configuracion_json":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Configuracion Json","description":"Configuración específica para el cliente (JSON string)."},"limite_usuarios":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Limite Usuarios","description":"Límite de usuarios para este módulo."},"limite_registros":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Limite Registros","description":"Límite de registros para este módulo."}},"type":"object","required":["codigo_modulo","nombre","modulo_id","fecha_creacion","activo_en_cliente"],"title":"ModuloConInfoActivacion","description":"Esquema extendido que incluye información de activación para un cliente específico.\nÚtil para endpoints de administración que muestran el estado de módulos por cliente."},"ModuloConInfoActivacionListResponse":{"properties":{"success":{"type":"boolean","title":"Success","description":"Indica si la operación fue exitosa.","default":true},"message":{"type":"string","title":"Message","description":"Mensaje descriptivo de la operación."},"data":{"items":{"$ref":"#/components/schemas/ModuloConInfoActivacion"},"type":"array","title":"Data","description":"Lista de módulos con información de activación."}},"type":"object","required":["message"],"title":"ModuloConInfoActivacionListResponse","description":"Respuesta estándar para listas de módulos con información de activación.\nUsado en endpoints que muestran módulos con su estado de activación por cliente."},"ModuloCreate":{"properties":{"codigo_modulo":{"type":"string","maxLength":30,"title":"Codigo Modulo","description":"Código único para referencia en código (ej: 'PLANILLAS', 'CONTABILIDAD')."},"nombre":{"type":"string","maxLength":100,"title":"Nombre","description":"Nombre descriptivo del módulo."},"descripcion":{"anyOf":[{"type":"string","maxLength":255},{"type":"null"}],"title":"Descripcion","description":"Descripción detallada de la funcionalidad del módulo."},"icono":{"anyOf":[{"type":"string","maxLength":50},{"type":"null"}],"title":"Icono","description":"Nombre del icono representativo (depende de librería UI usada)."},"es_modulo_core":{"type":"boolean","title":"Es Modulo Core","description":"True = Módulo esencial del sistema (siempre disponible).","default":false},"requiere_licencia":{"type":"boolean","title":"Requiere Licencia","description":"True = Requiere licencia/pago adicional.","default":false},"orden":{"type":"integer","title":"Orden","description":"Orden de visualización en UI (menor = primero).","default":0},"es_activo":{"type":"boolean","title":"Es Activo","description":"Indica si el módulo está disponible para activación.","default":true}},"type":"object","required":["codigo_modulo","nombre"],"title":"ModuloCreate","description":"Esquema para la creación de un nuevo módulo en el catálogo del sistema.\nHereda todos los campos de ModuloBase."},"ModuloDeleteResponse":{"properties":{"success":{"type":"boolean","title":"Success","description":"Indica si la operación fue exitosa.","default":true},"message":{"type":"string","title":"Message","description":"Mensaje descriptivo de la operación."},"modulo_id":{"type":"string","format":"uuid","title":"Modulo Id","description":"ID del módulo eliminado (UUID)."}},"type":"object","required":["message","modulo_id"],"title":"ModuloDeleteResponse","description":"Respuesta estándar para operaciones de eliminación de módulos.\nConfirma la eliminación exitosa del módulo."},"ModuloRead":{"properties":{"codigo_modulo":{"type":"string","maxLength":30,"title":"Codigo Modulo","description":"Código único para referencia en código (ej: 'PLANILLAS', 'CONTABILIDAD')."},"nombre":{"type":"string","maxLength":100,"title":"Nombre","description":"Nombre descriptivo del módulo."},"descripcion":{"anyOf":[{"type":"string","maxLength":255},{"type":"null"}],"title":"Descripcion","description":"Descripción detallada de la funcionalidad del módulo."},"icono":{"anyOf":[{"type":"string","maxLength":50},{"type":"null"}],"title":"Icono","description":"Nombre del icono representativo (depende de librería UI usada)."},"es_modulo_core":{"type":"boolean","title":"Es Modulo Core","description":"True = Módulo esencial del sistema (siempre disponible).","default":false},"requiere_licencia":{"type":"boolean","title":"Requiere Licencia","description":"True = Requiere licencia/pago adicional.","default":false},"orden":{"type":"integer","title":"Orden","description":"Orden de visualización en UI (menor = primero).","default":0},"es_activo":{"type":"boolean","title":"Es Activo","description":"Indica si el módulo está disponible para activación.","default":true},"modulo_id":{"type":"string","format":"uuid","title":"Modulo Id","description":"Identificador único del módulo (UUID)."},"fecha_creacion":{"type":"string","format":"date-time","title":"Fecha Creacion","description":"Fecha de creación del registro."}},"type":"object","required":["codigo_modulo","nombre","modulo_id","fecha_creacion"],"title":"ModuloRead","description":"Esquema de lectura completo de un módulo.\nIncluye los campos de identificación y auditoría generados por el sistema."},"ModuloResponse":{"properties":{"success":{"type":"boolean","title":"Success","description":"Indica si la operación fue exitosa.","default":true},"message":{"type":"string","title":"Message","description":"Mensaje descriptivo de la operación."},"data":{"anyOf":[{"$ref":"#/components/schemas/ModuloRead"},{"type":"null"}],"description":"Datos del módulo."}},"type":"object","required":["message"],"title":"ModuloResponse","description":"Respuesta estándar para operaciones sobre un módulo individual.\nUsado en endpoints de creación, actualización y consulta de un solo módulo."},"ModuloUpdate":{"properties":{"codigo_modulo":{"anyOf":[{"type":"string","maxLength":30},{"type":"null"}],"title":"Codigo Modulo"},"nombre":{"anyOf":[{"type":"string","maxLength":100},{"type":"null"}],"title":"Nombre"},"descripcion":{"anyOf":[{"type":"string","maxLength":255},{"type":"null"}],"title":"Descripcion"},"icono":{"anyOf":[{"type":"string","maxLength":50},{"type":"null"}],"title":"Icono"},"es_modulo_core":{"anyOf":[{"type":"boolean"},{"type":"null"}],"title":"Es Modulo Core"},"requiere_licencia":{"anyOf":[{"type":"boolean"},{"type":"null"}],"title":"Requiere Licencia"},"orden":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Orden"},"es_activo":{"anyOf":[{"type":"boolean"},{"type":"null"}],"title":"Es Activo"}},"type":"object","title":"ModuloUpdate","description":"Esquema para la actualización parcial de un módulo.\nTodos los campos son opcionales para permitir actualizaciones incrementales."},"PaginatedAreaResponse":{"properties":{"areas":{"items":{"$ref":"#/components/schemas/AreaRead"},"type":"array","title":"Areas","description":"Lista de áreas para la página actual"},"total_areas":{"type":"integer","minimum":0.0,"title":"Total Areas","description":"Número total de áreas que coinciden con los filtros aplicados"},"pagina_actual":{"type":"integer","minimum":1.0,"title":"Pagina Actual","description":"Número de la página actual siendo visualizada"},"total_paginas":{"type":"integer","minimum":0.0,"title":"Total Paginas","description":"Número total de páginas disponibles con los filtros actuales"}},"type":"object","required":["areas","total_areas","pagina_actual","total_paginas"],"title":"PaginatedAreaResponse","description":"Schema para respuestas paginadas de listas de áreas."},"PaginatedAuthAuditLogResponse":{"properties":{"logs":{"items":{"$ref":"#/components/schemas/AuthAuditLogRead"},"type":"array","title":"Logs","description":"Lista de logs"},"total_logs":{"type":"integer","minimum":0.0,"title":"Total Logs","description":"Total de logs que coinciden"},"pagina_actual":{"type":"integer","minimum":1.0,"title":"Pagina Actual","description":"Página actual"},"total_paginas":{"type":"integer","minimum":0.0,"title":"Total Paginas","description":"Total de páginas"}},"type":"object","required":["logs","total_logs","pagina_actual","total_paginas"],"title":"PaginatedAuthAuditLogResponse","description":"Respuesta paginada de logs de autenticación."},"PaginatedClienteResponse":{"properties":{"clientes":{"items":{"$ref":"#/components/schemas/ClienteRead"},"type":"array","title":"Clientes","description":"Lista de clientes para la página actual"},"total_clientes":{"type":"integer","minimum":0.0,"title":"Total Clientes","description":"Número total de clientes que coinciden con los filtros"},"pagina_actual":{"type":"integer","minimum":1.0,"title":"Pagina Actual","description":"Número de la página actual siendo visualizada"},"total_paginas":{"type":"integer","minimum":0.0,"title":"Total Paginas","description":"Número total de páginas disponibles"},"items_por_pagina":{"type":"integer","minimum":1.0,"title":"Items Por Pagina","description":"Número de items por página"}},"type":"object","required":["clientes","total_clientes","pagina_actual","total_paginas","items_por_pagina"],"title":"PaginatedClienteResponse","description":"Schema para respuestas paginadas de listas de clientes.\n\nUtilizado en endpoints que devuelven listas paginadas de clientes\ncon metadatos de paginación."},"PaginatedLogSincronizacionResponse":{"properties":{"logs":{"items":{"$ref":"#/components/schemas/LogSincronizacionRead"},"type":"array","title":"Logs","description":"Lista de logs"},"total_logs":{"type":"integer","minimum":0.0,"title":"Total Logs","description":"Total de logs que coinciden"},"pagina_actual":{"type":"integer","minimum":1.0,"title":"Pagina Actual","description":"Página actual"},"total_paginas":{"type":"integer","minimum":0.0,"title":"Total Paginas","description":"Total de páginas"}},"type":"object","required":["logs","total_logs","pagina_actual","total_paginas"],"title":"PaginatedLogSincronizacionResponse","description":"Respuesta paginada de logs de sincronización."},"PaginatedModuloResponse":{"properties":{"success":{"type":"boolean","title":"Success","description":"Indica si la operación fue exitosa.","default":true},"message":{"type":"string","title":"Message","description":"Mensaje descriptivo de la operación."},"data":{"items":{"$ref":"#/components/schemas/ModuloRead"},"type":"array","title":"Data","description":"Lista de módulos de la página actual."},"pagination":{"$ref":"#/components/schemas/PaginationMetadata","description":"Metadata de paginación."}},"type":"object","required":["message","pagination"],"title":"PaginatedModuloResponse","description":"Respuesta estándar para listas paginadas de módulos.\nIncluye metadata de paginación para facilitar la navegación en el frontend."},"PaginatedRolResponse":{"properties":{"roles":{"items":{"$ref":"#/components/schemas/RolRead"},"type":"array","title":"Roles","description":"Lista de roles para la página actual"},"total_roles":{"type":"integer","minimum":0.0,"title":"Total Roles","description":"Número total de roles que coinciden con los filtros aplicados"},"pagina_actual":{"type":"integer","minimum":1.0,"title":"Pagina Actual","description":"Número de la página actual siendo visualizada"},"total_paginas":{"type":"integer","minimum":0.0,"title":"Total Paginas","description":"Número total de páginas disponibles con los filtros actuales"}},"type":"object","required":["roles","total_roles","pagina_actual","total_paginas"],"title":"PaginatedRolResponse","description":"Schema para respuestas paginadas de listas de roles."},"PaginatedUsuarioResponse":{"properties":{"usuarios":{"items":{"$ref":"#/components/schemas/UsuarioReadWithRoles"},"type":"array","title":"Usuarios","description":"Lista de usuarios para la página actual"},"total_usuarios":{"type":"integer","minimum":0.0,"title":"Total Usuarios","description":"Número total de usuarios que coinciden con los filtros"},"pagina_actual":{"type":"integer","minimum":1.0,"title":"Pagina Actual","description":"Número de la página actual siendo visualizada"},"total_paginas":{"type":"integer","minimum":0.0,"title":"Total Paginas","description":"Número total de páginas disponibles"}},"type":"object","required":["usuarios","total_usuarios","pagina_actual","total_paginas"],"title":"PaginatedUsuarioResponse","description":"Schema para respuestas paginadas de listas de usuarios.\n\nUtilizado en endpoints que devuelven listas paginadas de usuarios\ncon metadatos de paginación."},"PaginatedUsuarioSuperadminResponse":{"properties":{"usuarios":{"items":{"$ref":"#/components/schemas/UsuarioSuperadminRead"},"type":"array","title":"Usuarios","description":"Lista de usuarios"},"total_usuarios":{"type":"integer","minimum":0.0,"title":"Total Usuarios","description":"Total de usuarios que coinciden"},"pagina_actual":{"type":"integer","minimum":1.0,"title":"Pagina Actual","description":"Página actual"},"total_paginas":{"type":"integer","minimum":0.0,"title":"Total Paginas","description":"Total de páginas"}},"type":"object","required":["usuarios","total_usuarios","pagina_actual","total_paginas"],"title":"PaginatedUsuarioSuperadminResponse","description":"Respuesta paginada de listado global de usuarios para Superadmin."},"PaginationMetadata":{"properties":{"total":{"type":"integer","title":"Total","description":"Total de registros disponibles."},"skip":{"type":"integer","title":"Skip","description":"Número de registros saltados."},"limit":{"type":"integer","title":"Limit","description":"Límite de registros por página."},"total_pages":{"type":"integer","title":"Total Pages","description":"Total de páginas disponibles."},"current_page":{"type":"integer","title":"Current Page","description":"Página actual (1-indexed)."},"has_next":{"type":"boolean","title":"Has Next","description":"Indica si existe una página siguiente."},"has_prev":{"type":"boolean","title":"Has Prev","description":"Indica si existe una página anterior."}},"type":"object","required":["total","skip","limit","total_pages","current_page","has_next","has_prev"],"title":"PaginationMetadata","description":"Metadata de paginación para respuestas paginadas.\nProporciona toda la información necesaria para implementar paginación en el frontend."},"PeriodoInfo":{"properties":{"fecha_desde":{"type":"string","format":"date-time","title":"Fecha Desde","description":"Fecha inicial"},"fecha_hasta":{"type":"string","format":"date-time","title":"Fecha Hasta","description":"Fecha final"}},"type":"object","required":["fecha_desde","fecha_hasta"],"title":"PeriodoInfo","description":"Período de tiempo para estadísticas."},"PermisoBase":{"properties":{"menu_id":{"type":"string","format":"uuid","title":"Menu Id","description":"ID del menú al que aplican los permisos (UUID)","examples":["550e8400-e29b-41d4-a716-446655440000"]},"puede_ver":{"type":"boolean","title":"Puede Ver","description":"Permiso para ver/acceder al menú","default":true,"examples":[true,false]},"puede_editar":{"type":"boolean","title":"Puede Editar","description":"Permiso para editar contenido asociado al menú","default":false,"examples":[true,false]},"puede_eliminar":{"type":"boolean","title":"Puede Eliminar","description":"Permiso para eliminar contenido asociado al menú","default":false,"examples":[true,false]}},"type":"object","required":["menu_id"],"title":"PermisoBase","description":"Schema base para permisos de roles sobre menús."},"PermisoCreateUpdate":{"properties":{"puede_ver":{"anyOf":[{"type":"boolean"},{"type":"null"}],"title":"Puede Ver","description":"Permiso para ver el menú"},"puede_editar":{"anyOf":[{"type":"boolean"},{"type":"null"}],"title":"Puede Editar","description":"Permiso para editar (ej. contenido asociado al menú)"},"puede_eliminar":{"anyOf":[{"type":"boolean"},{"type":"null"}],"title":"Puede Eliminar","description":"Permiso para eliminar (ej. contenido asociado al menú)"}},"type":"object","title":"PermisoCreateUpdate"},"PermisoReadWithMenu":{"properties":{"puede_ver":{"anyOf":[{"type":"boolean"},{"type":"null"}],"title":"Puede Ver","description":"Permiso para ver el menú"},"puede_editar":{"anyOf":[{"type":"boolean"},{"type":"null"}],"title":"Puede Editar","description":"Permiso para editar (ej. contenido asociado al menú)"},"puede_eliminar":{"anyOf":[{"type":"boolean"},{"type":"null"}],"title":"Puede Eliminar","description":"Permiso para eliminar (ej. contenido asociado al menú)"},"rol_menu_id":{"type":"string","format":"uuid","title":"Rol Menu Id"},"rol_id":{"type":"string","format":"uuid","title":"Rol Id"},"menu_id":{"type":"string","format":"uuid","title":"Menu Id"},"menu_nombre":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Menu Nombre"},"menu_url":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Menu Url"},"menu_icono":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Menu Icono"}},"type":"object","required":["rol_menu_id","rol_id","menu_id"],"title":"PermisoReadWithMenu"},"PermisoUpdatePayload":{"properties":{"permisos":{"items":{"$ref":"#/components/schemas/PermisoBase"},"type":"array","title":"Permisos","description":"Lista completa de permisos para asignar al rol","examples":[[{"menu_id":1,"puede_editar":false,"puede_eliminar":false,"puede_ver":true},{"menu_id":2,"puede_editar":true,"puede_eliminar":false,"puede_ver":true}]]}},"type":"object","required":["permisos"],"title":"PermisoUpdatePayload","description":"Schema para actualización masiva de permisos de un rol."},"RefreshTokenBody":{"properties":{"refresh_token":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Refresh Token"}},"type":"object","title":"RefreshTokenBody","description":"Schema para recibir refresh token en el body (móvil)."},"RefreshTokenInfo":{"properties":{"token_id":{"type":"string","format":"uuid","title":"Token Id","description":"ID del token (UUID)"},"client_type":{"type":"string","title":"Client Type","description":"Tipo de cliente (web/mobile/desktop)"},"device_name":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Device Name","description":"Nombre del dispositivo"},"device_id":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Device Id","description":"ID del dispositivo"},"ip_address":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Ip Address","description":"IP de creación"},"user_agent":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"User Agent","description":"User agent"},"created_at":{"type":"string","format":"date-time","title":"Created At","description":"Fecha de creación"},"expires_at":{"type":"string","format":"date-time","title":"Expires At","description":"Fecha de expiración"},"is_revoked":{"type":"boolean","title":"Is Revoked","description":"Si fue revocado"},"last_used_at":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Last Used At","description":"Última vez usado"},"uso_count":{"type":"integer","title":"Uso Count","description":"Cuántas veces se usó","default":0},"revoked_at":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Revoked At","description":"Fecha de revocación"},"revoked_reason":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Revoked Reason","description":"Motivo de revocación"}},"type":"object","required":["token_id","client_type","created_at","expires_at","is_revoked"],"title":"RefreshTokenInfo","description":"Información de un token refresh (sesión).\nNO incluye token_hash por seguridad."},"RolCreate":{"properties":{"cliente_id":{"anyOf":[{"type":"string","format":"uuid"},{"type":"null"}],"title":"Cliente Id","description":"Identificador único del cliente/tenant (UUID). NULL para roles de sistema globales e inmutables."},"codigo_rol":{"anyOf":[{"type":"string","maxLength":50},{"type":"null"}],"title":"Codigo Rol","description":"Código único en MAYÚSCULAS para roles predefinidos por el sistema (ej: 'SUPER_ADMIN', 'ADMIN'). NULL para roles definidos por el cliente."},"nombre":{"type":"string","maxLength":50,"minLength":3,"title":"Nombre","description":"Nombre único del rol para identificación en el sistema (único por cliente_id)","examples":["Administrador","Usuario","Supervisor","Reportes"]},"descripcion":{"anyOf":[{"type":"string","maxLength":255},{"type":"null"}],"title":"Descripcion","description":"Descripción detallada del propósito y permisos del rol","examples":["Acceso completo al sistema","Usuario estándar con permisos básicos"]},"es_activo":{"type":"boolean","title":"Es Activo","description":"Indica si el rol está activo y disponible para asignación","default":true}},"type":"object","required":["nombre"],"title":"RolCreate","description":"Schema para la creación de nuevos roles."},"RolInfo":{"properties":{"rol_id":{"type":"string","format":"uuid","title":"Rol Id","description":"ID único del rol (UUID)"},"nombre":{"type":"string","title":"Nombre","description":"Nombre del rol"},"codigo_rol":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Codigo Rol","description":"Código del rol (si es rol del sistema)"},"nivel_acceso":{"type":"integer","maximum":5.0,"minimum":1.0,"title":"Nivel Acceso","description":"Nivel de acceso del rol","default":1},"es_rol_sistema":{"type":"boolean","title":"Es Rol Sistema","description":"Si es rol del sistema","default":false},"fecha_asignacion":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Fecha Asignacion","description":"Fecha de asignación del rol"},"es_activo":{"type":"boolean","title":"Es Activo","description":"Si la asignación está activa","default":true}},"type":"object","required":["rol_id","nombre"],"title":"RolInfo","description":"Información básica del rol para incluir en respuestas de usuarios.\nVersión ligera de RolRead para evitar sobrecargar respuestas."},"RolRead":{"properties":{"cliente_id":{"anyOf":[{"type":"string","format":"uuid"},{"type":"null"}],"title":"Cliente Id","description":"Identificador único del cliente/tenant (UUID). NULL para roles de sistema globales e inmutables."},"codigo_rol":{"anyOf":[{"type":"string","maxLength":50},{"type":"null"}],"title":"Codigo Rol","description":"Código único en MAYÚSCULAS para roles predefinidos por el sistema (ej: 'SUPER_ADMIN', 'ADMIN'). NULL para roles definidos por el cliente."},"nombre":{"type":"string","maxLength":50,"minLength":3,"title":"Nombre","description":"Nombre único del rol para identificación en el sistema (único por cliente_id)","examples":["Administrador","Usuario","Supervisor","Reportes"]},"descripcion":{"anyOf":[{"type":"string","maxLength":255},{"type":"null"}],"title":"Descripcion","description":"Descripción detallada del propósito y permisos del rol","examples":["Acceso completo al sistema","Usuario estándar con permisos básicos"]},"es_activo":{"type":"boolean","title":"Es Activo","description":"Indica si el rol está activo y disponible para asignación","default":true},"rol_id":{"type":"string","format":"uuid","title":"Rol Id","description":"Identificador único del rol en el sistema (UUID)","examples":["550e8400-e29b-41d4-a716-446655440000"]},"fecha_creacion":{"type":"string","format":"date-time","title":"Fecha Creacion","description":"Fecha y hora en que se creó el registro del rol"},"es_eliminado":{"type":"boolean","title":"Es Eliminado","description":"Indicador de borrado lógico.","default":false}},"type":"object","required":["nombre","rol_id","fecha_creacion"],"title":"RolRead","description":"Schema para lectura de datos básicos de un rol, incluyendo la identificación\nmulti-tenant."},"RolUpdate":{"properties":{"nombre":{"anyOf":[{"type":"string","maxLength":50,"minLength":3},{"type":"null"}],"title":"Nombre","description":"Nuevo nombre del rol (opcional)"},"descripcion":{"anyOf":[{"type":"string","maxLength":255},{"type":"null"}],"title":"Descripcion","description":"Nueva descripción del rol (opcional)"},"es_activo":{"anyOf":[{"type":"boolean"},{"type":"null"}],"title":"Es Activo","description":"Nuevo estado activo/inactivo del rol (opcional)"},"codigo_rol":{"anyOf":[{"type":"string","maxLength":50},{"type":"null"}],"title":"Codigo Rol","description":"Código del rol (solo actualizable por SUPER_ADMIN en roles de sistema)."}},"type":"object","title":"RolUpdate","description":"Schema para actualización parcial de roles.\n\nTodos los campos son opcionales."},"SSOProviderRead":{"properties":{"federacion_id":{"type":"integer","title":"Federacion Id"},"cliente_id":{"type":"integer","title":"Cliente Id"},"nombre_configuracion":{"type":"string","title":"Nombre Configuracion"},"proveedor":{"type":"string","title":"Proveedor"},"es_activo":{"type":"boolean","title":"Es Activo"},"es_metodo_principal":{"type":"boolean","title":"Es Metodo Principal"},"fecha_creacion":{"type":"string","format":"date-time","title":"Fecha Creacion"}},"type":"object","required":["federacion_id","cliente_id","nombre_configuracion","proveedor","es_activo","es_metodo_principal","fecha_creacion"],"title":"SSOProviderRead"},"SincronizacionStats":{"properties":{"total_sincronizaciones":{"type":"integer","minimum":0.0,"title":"Total Sincronizaciones","description":"Total de sincronizaciones"},"exitosas":{"type":"integer","minimum":0.0,"title":"Exitosas","description":"Sincronizaciones exitosas"},"fallidas":{"type":"integer","minimum":0.0,"title":"Fallidas","description":"Sincronizaciones fallidas"},"por_tipo":{"additionalProperties":{"type":"integer"},"type":"object","title":"Por Tipo","description":"Sincronizaciones por tipo"}},"type":"object","required":["total_sincronizaciones","exitosas","fallidas"],"title":"SincronizacionStats","description":"Estadísticas de sincronización."},"Token":{"properties":{"access_token":{"type":"string","title":"Access Token","description":"Token JWT de acceso para autorizar solicitudes","examples":["eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9..."]},"token_type":{"type":"string","title":"Token Type","description":"Tipo de token, siempre 'bearer' para JWT","default":"bearer","examples":["bearer"]},"user_data":{"anyOf":[{"$ref":"#/components/schemas/UserDataWithRoles"},{"type":"null"}],"description":"Datos del usuario autenticado (opcional, no se incluye en refresh)"}},"type":"object","required":["access_token"],"title":"Token","description":"Schema para respuesta de tokens JWT.\n\nIncluye el token de acceso y opcionalmente los datos del usuario\npara evitar llamadas adicionales al backend después del login.\n\nAHORA INCLUYE: Campos de nivel de acceso en user_data"},"UserDataWithRoles":{"properties":{"usuario_id":{"type":"string","format":"uuid","title":"Usuario Id","description":"Identificador único del usuario en el sistema (UUID)","examples":["550e8400-e29b-41d4-a716-446655440000"]},"nombre_usuario":{"type":"string","title":"Nombre Usuario","description":"Nombre de usuario único para identificación en el sistema","examples":["juan_perez","maria.garcia"]},"correo":{"type":"string","title":"Correo","description":"Dirección de correo electrónico válida del usuario","examples":["usuario@empresa.com","nombre.apellido@dominio.org"]},"nombre":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Nombre","description":"Nombre real del usuario","examples":["Juan","María José"]},"apellido":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Apellido","description":"Apellido del usuario","examples":["Pérez García","López"]},"es_activo":{"type":"boolean","title":"Es Activo","description":"Indica si el usuario está activo en el sistema","examples":[true,false]},"roles":{"items":{"type":"string"},"type":"array","title":"Roles","description":"Lista de nombres de roles asignados al usuario","examples":[["Administrador","Usuario"],["Reportes"]]},"access_level":{"type":"integer","maximum":5.0,"minimum":1.0,"title":"Access Level","description":"Nivel de acceso máximo del usuario basado en sus roles (1-5)","default":1,"examples":[1,3,5]},"is_super_admin":{"type":"boolean","title":"Is Super Admin","description":"Indica si el usuario tiene rol de Super Administrador","default":false,"examples":[true,false]},"user_type":{"type":"string","title":"User Type","description":"Tipo de usuario: 'super_admin', 'tenant_admin', 'user'","default":"user","examples":["super_admin","tenant_admin","user"]},"cliente_id":{"anyOf":[{"type":"string","format":"uuid"},{"type":"null"}],"title":"Cliente Id","description":"ID del cliente al que pertenece el usuario (UUID)","examples":["550e8400-e29b-41d4-a716-446655440000"]}},"type":"object","required":["usuario_id","nombre_usuario","correo","es_activo"],"title":"UserDataWithRoles","description":"Schema extendido para datos de usuario que incluye roles.\n\nUtilizado en respuestas de login y perfil de usuario donde\nse necesita información completa de roles y permisos.\n\nAHORA INCLUYE: Campos de nivel de acceso para el sistema LBAC"},"UsuarioActividadResponse":{"properties":{"usuario_id":{"type":"string","format":"uuid","title":"Usuario Id","description":"ID del usuario (UUID)"},"ultimo_acceso":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Ultimo Acceso","description":"Último acceso del usuario"},"ultimo_ip":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Ultimo Ip","description":"IP del último acceso"},"total_eventos":{"type":"integer","minimum":0.0,"title":"Total Eventos","description":"Total de eventos encontrados"},"eventos":{"items":{"type":"object"},"type":"array","title":"Eventos","description":"Eventos recientes"}},"type":"object","required":["usuario_id","total_eventos"],"title":"UsuarioActividadResponse","description":"Actividad reciente de un usuario.\nCombina datos de usuario con eventos de auditoría."},"UsuarioCreate":{"properties":{"cliente_id":{"type":"string","format":"uuid","title":"Cliente Id","description":"Identificador único del cliente/tenant al que pertenece el usuario. Obligatorio para el aislamiento (UUID).","examples":["550e8400-e29b-41d4-a716-446655440000"]},"nombre_usuario":{"type":"string","maxLength":100,"minLength":3,"title":"Nombre Usuario","description":"Nombre único de usuario para identificación en el sistema (único por cliente). Puede ser username, DNI, email o código.","examples":["juan_perez","42799662","usuario@empresa.com","EMP001"]},"correo":{"anyOf":[{"type":"string","maxLength":150},{"type":"null"}],"title":"Correo","description":"Dirección de correo electrónico válida (puede ser diferente de nombre_usuario)","examples":["usuario@empresa.com","nombre.apellido@dominio.org"]},"nombre":{"anyOf":[{"type":"string","maxLength":100},{"type":"null"}],"title":"Nombre","description":"Nombre real del usuario (solo letras y espacios)","examples":["Juan","María José"]},"apellido":{"anyOf":[{"type":"string","maxLength":100},{"type":"null"}],"title":"Apellido","description":"Apellido del usuario (solo letras y espacios)","examples":["Pérez García","López"]},"es_activo":{"type":"boolean","title":"Es Activo","description":"Indica si el usuario está activo en el sistema","default":true},"es_superadmin":{"type":"boolean","title":"Es Superadmin","description":"Indica si el usuario es un superadministrador global del sistema (solo cliente_id=1).","default":false},"contrasena":{"type":"string","maxLength":100,"minLength":8,"title":"Contrasena","description":"Contraseña segura con mínimo 8 caracteres, una mayúscula, una minúscula y un número","examples":["MiContraseñaSegura123","OtraPassword123!"]},"dni":{"anyOf":[{"type":"string","maxLength":8},{"type":"null"}],"title":"Dni","description":"DNI del usuario (solo para registro, no para login)","examples":["42799662","12345678"]},"telefono":{"anyOf":[{"type":"string","maxLength":20},{"type":"null"}],"title":"Telefono","description":"Número de teléfono del usuario","examples":["+51987654321","012345678"]},"proveedor_autenticacion":{"type":"string","maxLength":30,"title":"Proveedor Autenticacion","description":"Método de autenticación: 'local', 'azure_ad', 'google', 'okta', 'oidc', 'saml'","default":"local"}},"type":"object","required":["cliente_id","nombre_usuario","contrasena"],"title":"UsuarioCreate","description":"Schema para la creación de nuevos usuarios.\n\nRequiere contraseña y utiliza la validación de UsuarioBase."},"UsuarioInfo":{"properties":{"usuario_id":{"type":"string","format":"uuid","title":"Usuario Id","description":"ID del usuario (UUID)"},"nombre_usuario":{"type":"string","title":"Nombre Usuario","description":"Nombre de usuario"},"correo":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Correo","description":"Email del usuario"}},"type":"object","required":["usuario_id","nombre_usuario"],"title":"UsuarioInfo","description":"Información mínima del usuario para incluir en logs y respuestas.\nVersión ligera para evitar sobrecargar respuestas de auditoría."},"UsuarioRead":{"properties":{"cliente_id":{"type":"string","format":"uuid","title":"Cliente Id","description":"Identificador único del cliente/tenant al que pertenece el usuario. Obligatorio para el aislamiento (UUID).","examples":["550e8400-e29b-41d4-a716-446655440000"]},"nombre_usuario":{"type":"string","maxLength":100,"minLength":3,"title":"Nombre Usuario","description":"Nombre único de usuario para identificación en el sistema (único por cliente). Puede ser username, DNI, email o código.","examples":["juan_perez","42799662","usuario@empresa.com","EMP001"]},"correo":{"anyOf":[{"type":"string","maxLength":150},{"type":"null"}],"title":"Correo","description":"Dirección de correo electrónico válida (puede ser diferente de nombre_usuario)","examples":["usuario@empresa.com","nombre.apellido@dominio.org"]},"nombre":{"anyOf":[{"type":"string","maxLength":100},{"type":"null"}],"title":"Nombre","description":"Nombre real del usuario (solo letras y espacios)","examples":["Juan","María José"]},"apellido":{"anyOf":[{"type":"string","maxLength":100},{"type":"null"}],"title":"Apellido","description":"Apellido del usuario (solo letras y espacios)","examples":["Pérez García","López"]},"es_activo":{"type":"boolean","title":"Es Activo","description":"Indica si el usuario está activo en el sistema","default":true},"es_superadmin":{"type":"boolean","title":"Es Superadmin","description":"Indica si el usuario es un superadministrador global del sistema (solo cliente_id=1).","default":false},"usuario_id":{"type":"string","format":"uuid","title":"Usuario Id","description":"Identificador único del usuario en el sistema (UUID)"},"fecha_creacion":{"type":"string","format":"date-time","title":"Fecha Creacion","description":"Fecha y hora en que se creó el registro del usuario"},"fecha_ultimo_acceso":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Fecha Ultimo Acceso","description":"Fecha y hora del último acceso del usuario al sistema"},"correo_confirmado":{"anyOf":[{"type":"boolean"},{"type":"null"}],"title":"Correo Confirmado","description":"Indica si el usuario ha confirmado su dirección de correo electrónico","default":false},"proveedor_autenticacion":{"type":"string","title":"Proveedor Autenticacion","description":"Método de autenticación del usuario","default":"local"},"fecha_ultimo_cambio_contrasena":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Fecha Ultimo Cambio Contrasena","description":"Fecha y hora del último cambio de contraseña"},"requiere_cambio_contrasena":{"anyOf":[{"type":"boolean"},{"type":"null"}],"title":"Requiere Cambio Contrasena","description":"Indica si el usuario debe cambiar la contraseña en el próximo login","default":false},"intentos_fallidos":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Intentos Fallidos","description":"Número de intentos de login fallidos consecutivos","default":0},"fecha_bloqueo":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Fecha Bloqueo","description":"Fecha y hora en que la cuenta fue bloqueada"},"sincronizado_desde":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Sincronizado Desde","description":"Origen de la sincronización del usuario"},"fecha_ultima_sincronizacion":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Fecha Ultima Sincronizacion","description":"Fecha de la última sincronización"},"dni":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Dni","description":"DNI del usuario"},"telefono":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Telefono","description":"Teléfono del usuario"},"referencia_externa_id":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Referencia Externa Id","description":"ID del usuario en proveedor externo de autenticación"},"referencia_externa_email":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Referencia Externa Email","description":"Email del usuario en proveedor externo"},"es_eliminado":{"type":"boolean","title":"Es Eliminado","description":"Indicador de borrado lógico","default":false},"fecha_actualizacion":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Fecha Actualizacion","description":"Fecha de última actualización del registro"},"origen_creacion":{"type":"string","title":"Origen Creacion","description":"Método de creación del usuario (compatibilidad)","default":"local"},"ultimo_cambio_contrasena":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Ultimo Cambio Contrasena","description":"Fecha del último cambio de contraseña (compatibilidad)"}},"type":"object","required":["cliente_id","nombre_usuario","usuario_id","fecha_creacion"],"title":"UsuarioRead","description":"Schema para lectura de datos completos de usuario.\n\nIncluye todos los campos de UsuarioBase más metadatos del sistema, seguridad\ny campos de sincronización COMPATIBLES con la estructura REAL de la BD."},"UsuarioReadWithRoles":{"properties":{"cliente_id":{"type":"string","format":"uuid","title":"Cliente Id","description":"Identificador único del cliente/tenant al que pertenece el usuario. Obligatorio para el aislamiento (UUID).","examples":["550e8400-e29b-41d4-a716-446655440000"]},"nombre_usuario":{"type":"string","maxLength":100,"minLength":3,"title":"Nombre Usuario","description":"Nombre único de usuario para identificación en el sistema (único por cliente). Puede ser username, DNI, email o código.","examples":["juan_perez","42799662","usuario@empresa.com","EMP001"]},"correo":{"anyOf":[{"type":"string","maxLength":150},{"type":"null"}],"title":"Correo","description":"Dirección de correo electrónico válida (puede ser diferente de nombre_usuario)","examples":["usuario@empresa.com","nombre.apellido@dominio.org"]},"nombre":{"anyOf":[{"type":"string","maxLength":100},{"type":"null"}],"title":"Nombre","description":"Nombre real del usuario (solo letras y espacios)","examples":["Juan","María José"]},"apellido":{"anyOf":[{"type":"string","maxLength":100},{"type":"null"}],"title":"Apellido","description":"Apellido del usuario (solo letras y espacios)","examples":["Pérez García","López"]},"es_activo":{"type":"boolean","title":"Es Activo","description":"Indica si el usuario está activo en el sistema","default":true},"es_superadmin":{"type":"boolean","title":"Es Superadmin","description":"Indica si el usuario es un superadministrador global del sistema (solo cliente_id=1).","default":false},"usuario_id":{"type":"string","format":"uuid","title":"Usuario Id","description":"Identificador único del usuario en el sistema (UUID)"},"fecha_creacion":{"type":"string","format":"date-time","title":"Fecha Creacion","description":"Fecha y hora en que se creó el registro del usuario"},"fecha_ultimo_acceso":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Fecha Ultimo Acceso","description":"Fecha y hora del último acceso del usuario al sistema"},"correo_confirmado":{"anyOf":[{"type":"boolean"},{"type":"null"}],"title":"Correo Confirmado","description":"Indica si el usuario ha confirmado su dirección de correo electrónico","default":false},"proveedor_autenticacion":{"type":"string","title":"Proveedor Autenticacion","description":"Método de autenticación del usuario","default":"local"},"fecha_ultimo_cambio_contrasena":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Fecha Ultimo Cambio Contrasena","description":"Fecha y hora del último cambio de contraseña"},"requiere_cambio_contrasena":{"anyOf":[{"type":"boolean"},{"type":"null"}],"title":"Requiere Cambio Contrasena","description":"Indica si el usuario debe cambiar la contraseña en el próximo login","default":false},"intentos_fallidos":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Intentos Fallidos","description":"Número de intentos de login fallidos consecutivos","default":0},"fecha_bloqueo":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Fecha Bloqueo","description":"Fecha y hora en que la cuenta fue bloqueada"},"sincronizado_desde":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Sincronizado Desde","description":"Origen de la sincronización del usuario"},"fecha_ultima_sincronizacion":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Fecha Ultima Sincronizacion","description":"Fecha de la última sincronización"},"dni":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Dni","description":"DNI del usuario"},"telefono":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Telefono","description":"Teléfono del usuario"},"referencia_externa_id":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Referencia Externa Id","description":"ID del usuario en proveedor externo de autenticación"},"referencia_externa_email":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Referencia Externa Email","description":"Email del usuario en proveedor externo"},"es_eliminado":{"type":"boolean","title":"Es Eliminado","description":"Indicador de borrado lógico","default":false},"fecha_actualizacion":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Fecha Actualizacion","description":"Fecha de última actualización del registro"},"origen_creacion":{"type":"string","title":"Origen Creacion","description":"Método de creación del usuario (compatibilidad)","default":"local"},"ultimo_cambio_contrasena":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Ultimo Cambio Contrasena","description":"Fecha del último cambio de contraseña (compatibilidad)"},"roles":{"items":{"$ref":"#/components/schemas/RolRead"},"type":"array","title":"Roles","description":"Lista de roles activos asignados al usuario"},"access_level":{"type":"integer","maximum":5.0,"minimum":1.0,"title":"Access Level","description":"Nivel de acceso máximo del usuario basado en sus roles (1-5)","default":1},"is_super_admin":{"type":"boolean","title":"Is Super Admin","description":"Indica si el usuario tiene rol de Super Administrador (nivel 5)","default":false},"user_type":{"type":"string","title":"User Type","description":"Tipo de usuario: 'super_admin', 'tenant_admin', 'user'","default":"user"}},"type":"object","required":["cliente_id","nombre_usuario","usuario_id","fecha_creacion"],"title":"UsuarioReadWithRoles","description":"Schema extendido para lectura de usuario que incluye sus roles.\n\nUtilizado en endpoints que requieren información completa del usuario\nincluyendo los permisos y roles asignados.\n\n✅ AHORA INCLUYE: Campos de niveles de acceso para el sistema LBAC"},"UsuarioRolRead":{"properties":{"usuario_id":{"type":"string","format":"uuid","title":"Usuario Id","description":"ID del usuario al que se asigna el rol (UUID)","examples":["550e8400-e29b-41d4-a716-446655440000"]},"rol_id":{"type":"string","format":"uuid","title":"Rol Id","description":"ID del rol que se asigna al usuario (UUID)","examples":["550e8400-e29b-41d4-a716-446655440001"]},"es_activo":{"type":"boolean","title":"Es Activo","description":"Indica si la asignación usuario-rol está activa","default":true},"usuario_rol_id":{"type":"string","format":"uuid","title":"Usuario Rol Id","description":"Identificador único de la asignación usuario-rol en el sistema (UUID)","examples":["550e8400-e29b-41d4-a716-446655440002"]},"fecha_asignacion":{"type":"string","format":"date-time","title":"Fecha Asignacion","description":"Fecha y hora en que se creó la asignación usuario-rol"}},"type":"object","required":["usuario_id","rol_id","usuario_rol_id","fecha_asignacion"],"title":"UsuarioRolRead","description":"Schema para lectura de datos completos de una asignación usuario-rol.\n\nIncluye todos los campos de UsuarioRolBase más metadatos del sistema\nque se generan automáticamente durante la creación de la asignación."},"UsuarioSesionesResponse":{"properties":{"usuario_id":{"type":"string","format":"uuid","title":"Usuario Id","description":"ID del usuario (UUID)"},"total_sesiones":{"type":"integer","minimum":0.0,"title":"Total Sesiones","description":"Total de sesiones"},"sesiones_activas":{"type":"integer","minimum":0.0,"title":"Sesiones Activas","description":"Sesiones activas"},"sesiones":{"items":{"$ref":"#/components/schemas/RefreshTokenInfo"},"type":"array","title":"Sesiones","description":"Lista de sesiones"}},"type":"object","required":["usuario_id","total_sesiones","sesiones_activas"],"title":"UsuarioSesionesResponse","description":"Sesiones activas de un usuario."},"UsuarioStats":{"properties":{"usuario_id":{"type":"string","format":"uuid","title":"Usuario Id","description":"ID del usuario (UUID)"},"nombre_usuario":{"type":"string","title":"Nombre Usuario","description":"Nombre de usuario"},"total_eventos":{"type":"integer","minimum":0.0,"title":"Total Eventos","description":"Total de eventos"}},"type":"object","required":["usuario_id","nombre_usuario","total_eventos"],"title":"UsuarioStats","description":"Estadísticas por usuario."},"UsuarioSuperadminRead":{"properties":{"usuario_id":{"type":"string","format":"uuid","title":"Usuario Id","description":"ID único del usuario (UUID)"},"cliente_id":{"type":"string","format":"uuid","title":"Cliente Id","description":"ID del cliente al que pertenece (UUID)"},"cliente":{"$ref":"#/components/schemas/ClienteInfo","description":"Información del cliente"},"nombre_usuario":{"type":"string","title":"Nombre Usuario","description":"Nombre de usuario"},"correo":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Correo","description":"Email del usuario"},"nombre":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Nombre","description":"Nombre real"},"apellido":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Apellido","description":"Apellido real"},"dni":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Dni","description":"DNI del usuario"},"telefono":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Telefono","description":"Teléfono"},"es_activo":{"type":"boolean","title":"Es Activo","description":"Estado activo/inactivo"},"es_eliminado":{"type":"boolean","title":"Es Eliminado","description":"Si está eliminado lógicamente","default":false},"proveedor_autenticacion":{"type":"string","title":"Proveedor Autenticacion","description":"Método de autenticación","default":"local"},"referencia_externa_id":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Referencia Externa Id","description":"ID en proveedor externo"},"referencia_externa_email":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Referencia Externa Email","description":"Email en proveedor externo"},"correo_confirmado":{"type":"boolean","title":"Correo Confirmado","description":"Si el email está confirmado","default":false},"intentos_fallidos":{"type":"integer","title":"Intentos Fallidos","description":"Intentos fallidos de login","default":0},"fecha_bloqueo":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Fecha Bloqueo","description":"Fecha de bloqueo"},"ultimo_ip":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Ultimo Ip","description":"IP del último acceso"},"fecha_creacion":{"type":"string","format":"date-time","title":"Fecha Creacion","description":"Fecha de creación"},"fecha_ultimo_acceso":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Fecha Ultimo Acceso","description":"Último acceso"},"fecha_actualizacion":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Fecha Actualizacion","description":"Última actualización"},"sincronizado_desde":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Sincronizado Desde","description":"Origen de sincronización"},"fecha_ultima_sincronizacion":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Fecha Ultima Sincronizacion","description":"Última sincronización"},"roles":{"items":{"$ref":"#/components/schemas/RolInfo"},"type":"array","title":"Roles","description":"Roles activos del usuario"},"access_level":{"type":"integer","maximum":5.0,"minimum":1.0,"title":"Access Level","description":"Nivel de acceso máximo","default":1},"is_super_admin":{"type":"boolean","title":"Is Super Admin","description":"Si es super administrador","default":false},"user_type":{"type":"string","title":"User Type","description":"Tipo de usuario","default":"user"}},"type":"object","required":["usuario_id","cliente_id","cliente","nombre_usuario","es_activo","fecha_creacion"],"title":"UsuarioSuperadminRead","description":"Vista completa de usuario para Superadmin.\nIncluye información del cliente y todos los datos relevantes."},"UsuarioUpdate":{"properties":{"nombre_usuario":{"anyOf":[{"type":"string","maxLength":100,"minLength":3},{"type":"null"}],"title":"Nombre Usuario","description":"Nuevo nombre de usuario (opcional)"},"correo":{"anyOf":[{"type":"string","maxLength":150},{"type":"null"}],"title":"Correo","description":"Nueva dirección de correo electrónico (opcional)"},"nombre":{"anyOf":[{"type":"string","maxLength":100},{"type":"null"}],"title":"Nombre","description":"Nuevo nombre (opcional)"},"apellido":{"anyOf":[{"type":"string","maxLength":100},{"type":"null"}],"title":"Apellido","description":"Nuevo apellido (opcional)"},"es_activo":{"anyOf":[{"type":"boolean"},{"type":"null"}],"title":"Es Activo","description":"Nuevo estado activo/inactivo (opcional)"},"dni":{"anyOf":[{"type":"string","maxLength":8},{"type":"null"}],"title":"Dni","description":"Nuevo DNI (opcional)"},"telefono":{"anyOf":[{"type":"string","maxLength":20},{"type":"null"}],"title":"Telefono","description":"Nuevo teléfono (opcional)"},"es_superadmin":{"anyOf":[{"type":"boolean"},{"type":"null"}],"title":"Es Superadmin","description":"Nuevo estado de superadministrador (opcional)"}},"type":"object","title":"UsuarioUpdate","description":"Schema para actualización parcial de usuarios (PATCH).\n\nTodos los campos son opcionales y solo se validan los que se proporcionen."},"ValidationError":{"properties":{"loc":{"items":{"anyOf":[{"type":"string"},{"type":"integer"}]},"type":"array","title":"Location"},"msg":{"type":"string","title":"Message"},"type":{"type":"string","title":"Error Type"}},"type":"object","required":["loc","msg","type"],"title":"ValidationError"},"app__modules__rbac__presentation__endpoints_permisos__PermisoRead":{"properties":{"puede_ver":{"anyOf":[{"type":"boolean"},{"type":"null"}],"title":"Puede Ver","description":"Permiso para ver el menú"},"puede_editar":{"anyOf":[{"type":"boolean"},{"type":"null"}],"title":"Puede Editar","description":"Permiso para editar (ej. contenido asociado al menú)"},"puede_eliminar":{"anyOf":[{"type":"boolean"},{"type":"null"}],"title":"Puede Eliminar","description":"Permiso para eliminar (ej. contenido asociado al menú)"},"rol_menu_id":{"type":"string","format":"uuid","title":"Rol Menu Id"},"rol_id":{"type":"string","format":"uuid","title":"Rol Id"},"menu_id":{"type":"string","format":"uuid","title":"Menu Id"}},"type":"object","required":["rol_menu_id","rol_id","menu_id"],"title":"PermisoRead"},"app__modules__rbac__presentation__schemas__PermisoRead":{"properties":{"menu_id":{"type":"string","format":"uuid","title":"Menu Id","description":"ID del menú al que aplican los permisos (UUID)","examples":["550e8400-e29b-41d4-a716-446655440000"]},"puede_ver":{"type":"boolean","title":"Puede Ver","description":"Permiso para ver/acceder al menú","default":true,"examples":[true,false]},"puede_editar":{"type":"boolean","title":"Puede Editar","description":"Permiso para editar contenido asociado al menú","default":false,"examples":[true,false]},"puede_eliminar":{"type":"boolean","title":"Puede Eliminar","description":"Permiso para eliminar contenido asociado al menú","default":false,"examples":[true,false]},"rol_menu_id":{"type":"string","format":"uuid","title":"Rol Menu Id","description":"ID único del registro de permiso en la tabla de relación (UUID)","examples":["550e8400-e29b-41d4-a716-446655440000"]},"rol_id":{"type":"string","format":"uuid","title":"Rol Id","description":"ID del rol al que pertenece el permiso (UUID)","examples":["550e8400-e29b-41d4-a716-446655440001"]}},"type":"object","required":["menu_id","rol_menu_id","rol_id"],"title":"PermisoRead","description":"Schema para lectura de permisos existentes."}},"securitySchemes":{"OAuth2PasswordBearer":{"type":"oauth2","flows":{"password":{"scopes":{},"tokenUrl":"api/v1/auth/login/"}}}}}}